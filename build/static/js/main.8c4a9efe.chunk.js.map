{"version":3,"sources":["Components/Container/Artifact/Artifact.module.css","Components/Container/Main/Main.module.css","Common/MuseumItemsList/MuseumItemsList.module.css","Components/Container/Hall/Hall.module.css","Components/Container/Museum/Museum.module.css","Components/Container/Location/Location.module.css","Components/Container/MuseumsList/MuseumsList.module.css","Components/Container/TicketsList/TicketsList.module.css","Components/Container/Management/Management.module.css","Components/Container/Main/Step/Step.module.css","Common/MuseumInformation/MuseumInformation.module.css","Components/Container/Museum/MuseumAdmin/MuseumAdmin.module.css","Common/CreateWorkerInputs/CreateWorkerInputs.module.css","Components/Container/PrintList/PrintList.module.css","Components/Container/Transition/Scanner/Scanner.module.css","Components/Container/Transition/Enter/Enter.module.css","Components/Container/Management/WorkerProfile/WorkerProfile.module.css","Common/Input/Input.module.css","Common/Textarea/Textarea.module.css","Components/Container/Management/ChangeWorker/ChangeWorkerProfile.module.css","Components/Login/Login.module.css","Common/BlackButton/BlackButton.module.css","Common/ChangeForm/ChangeForm.module.css","Common/TransparentButton/TransparentButton.module.css","Components/Container/Transition/Top/Top.module.css","Common/BackBtn/BackBtn.module.css","Components/Container/Transition/Transition.module.css","Common/Audio/Audio.module.css","Common/Preloader/Preloader.module.css","assets/images/group-10.svg","assets/images/MIREA_Gerb_Colour.png","assets/images/group-2.svg","assets/images/scan.svg","assets/images/play.svg","Components/Container/Main/Step/Step.jsx","Common/TransparentButton/TransparentButton.jsx","Common/BlackButton/BlackButton.jsx","Components/Container/Main/Main.jsx","Components/Container/Main/MainContainer.jsx","assets/images/enterPhone.svg","assets/images/scanPhone.svg","assets/images/next.svg","Common/BackBtn/BackBtn.jsx","Components/Container/Transition/Top/Top.jsx","Components/Container/Transition/Scanner/ScannerContainer.jsx","assets/images/refresh-256x256.png","Components/Container/Transition/Enter/Enter.jsx","Components/Container/Transition/Transition.jsx","Common/Audio/Audio.jsx","Common/Input/Input.jsx","Common/Textarea/Textarea.jsx","assets/images/left-chevron.svg","Common/ChangeForm/ChangeForm.jsx","Components/Container/Artifact/Artifact.jsx","hoc/CommonMuseumLogic.js","hoc/CommonUpdateLogic.js","api/api.js","redux/museum-reducer.js","redux/location-reducer.js","redux/hall-reducer.js","redux/artifact-reducer.js","redux/user-reducer.js","Components/Container/Artifact/ArtifactContainer.jsx","Common/PreloaderLogo/PreloaderLogo.jsx","assets/images/up.svg","assets/images/down.svg","Common/MuseumItemsList/MuseumItemsList.jsx","Common/MuseumInformation/MuseumInformation.jsx","Components/Container/Museum/Museum.jsx","Common/CreateWorkerInputs/CreateWorkerInputs.jsx","Components/Container/Museum/MuseumAdmin/MuseumAdmin.jsx","redux/serviceAdmin-reducer.js","hoc/CommonCreateWorkerLogic.js","Components/Container/Museum/MuseumAdmin/MuseumAdminContainer.jsx","Components/Container/Museum/MuseumContainer.jsx","Components/Container/Location/Location.jsx","Components/Container/Location/LocationContainer.jsx","hoc/CommonCreateLogic.js","hoc/Redirect/WithAdminRedirect.js","Components/Container/Create/CreateLocation.jsx","Components/Container/Hall/Hall.jsx","Components/Container/Hall/HallContainer.jsx","Components/Container/Create/CreateHall.jsx","Components/Container/Create/CreateArtifact.jsx","Components/Container/Management/ChangeWorker/ChangeWorkerProfile.jsx","redux/admin-reducer.js","Components/Container/Management/WorkerProfile/WorkerProfile.jsx","Components/Container/Management/ChangeWorker/ChangeWorkerContainer.jsx","Components/Container/Management/Management.jsx","hoc/Redirect/WithSuperAdminRedirect.js","Components/Container/Management/ManagementContainer.jsx","Components/Container/CreateWorker/CreateWorker.jsx","Components/Container/MuseumsList/MuseumsList.jsx","hoc/Redirect/WithServiceAdminRedirect.js","Components/Container/MuseumsList/MuseumsListContainer.jsx","Components/Container/Create/CreateMuseum.jsx","Components/Container/TicketsList/Ticket.jsx","Components/Container/TicketsList/TicketsList.jsx","redux/cashier-reducer.js","hoc/Redirect/WithCashierRedirect.js","Components/Container/TicketsList/TicketsListContainer.jsx","Common/Preloader/loader.svg","Common/Preloader/Preloader.jsx","Components/Container/PrintList/PrintList.jsx","Components/Container/PrintList/PrintListContainer.jsx","Components/Container/Relocate/RelocateContainer.jsx","Components/Container/Container.jsx","redux/authentication.js","Components/Login/Login.jsx","App.js","reportWebVitals.js","redux/redux-store.js","index.js"],"names":["module","exports","Step","props","className","s","step","pointOuter","pointInner","stepText","text","phoneIcon","src","img","alt","TransparentButton","button","to","link","BlackButton","artifactId","Main","main","logoContainer","gerb","mirea","nameContainer","logo","name","principe","scan","play","art","way","isUserServiceAdmin","isUserMuseumAdmin","isUserMuseumSuperAdmin","isUserCashier","isTokenExists","MainContainer","state","localStorage","getItem","this","setState","React","Component","connect","auth","BackBtn","onClick","history","goBack","backBtn","prev","Top","phoneContainer","section","scanPhone","enterPhone","ScannerContainer","facingMode","changeCamera","bind","result","path","component","window","location","scannerContainer","title","delay","resolution","scanner","style","showViewFinder","onError","handleError","onScan","handleScan","refresh","Enter","enter","inputContainer","input","onChange","handleChange","type","placeholder","value","Transition","data","e","target","err","console","error","container","exact","render","WithUrlTransition","withRouter","Audio","audio","volume","showJumpControls","customProgressBarSection","RHAP_UI","MAIN_CONTROLS","CURRENT_TIME","PROGRESS_BAR","DURATION","customControlsSection","preload","autoPlay","autoPlayAfterSrcChange","Input","onKeyUp","handleFindKey","onFocus","handleFocus","Textarea","ChangeForm","form","handleChangeInputs","description","isEmptyInputs","handleChangeFile","isItemArtifact","video","isPhotoTypeWrong","isAudioTypeWrong","isVideoUrlWrong","handleSubmit","Artifact","museum","isChanging","change","toggleIsChanging","deleteBtn","deleteArtifact","artifactContainer","top","artifact","imgContainer","main_img","info","main_audio","descriptionContainer","href","videoBtn","rel","mapStateToPropsForRedirect","CommonMuseumLogic","id","updateState","setValidation","setImage","setAudio","audioToUpdate","bool","file","files","CommonUpdateLogic","isRight","isCreate","changeCreate","test","baseUrl","getOptions","mass","method","formdata","FormData","map","m","append","requestOptions","body","redirect","requestAuthOptions","headers","getHeaders","accessToken","myHeaders","Headers","museumApi","fetch","museum_id","options","token","location_id","swap_type","obj_id","hall_id","artifact_id","artifacts","size","raw","JSON","stringify","authApi","localToken","username","password","adminApi","last_name","first_name","middle_name","email","worker_id","role","serviceAdminApi","cashierApi","userApi","SET_MUSEUM_DATA","ADD_ARTIFACT_TO_PRINT","REMOVE_ALL_ARTIFACTS","DELETE_ARTIFACT","SET_PDF_TO_PRINT","SET_LOCATIONS_LIST","CLEAR_PDF","initialState","museumData","locations","print","pdf","is_museum_super_admin","is_museum_super_adminTest","setMuseumData","deleteOneArtifact","getMuseumData","dispatch","then","response","json","log","museumReducer","action","filter","p","SET_LOCATION_DATA","SET_HALLS","locationData","halls","setLocationData","getLocationData","locationReducer","SET_HALL_DATA","SET_ARTIFACTS","hallData","setHallData","hall","hallReducer","SET_ARTIFACT_DATA","artifactData","artifactQr","setArtifactData","artifactReducer","SET_TOKEN","INITIALIZING_TOKEN","isTokenSet","userReducer","ArtifactContainer","isDeleted","updateArtifact","swapArtifacts","checkAudio","match","params","vid","updateArtifactData","prevProps","prevState","snapshot","getArtifactData","getUserArtifactData","url","includes","compose","getState","user","PreloaderLogo","class","changeClass","setTimeout","MuseumItemsList","descriptionTitle","buttons","moveBtn","up","swapLocations","last","down","MuseumInformation","Museum","createContainer","itemsTitle","l","length","locationContainer","goInside","isRelocate","relocateBtn","selectLocation","CreateWorkerInputs","confirm_password","InputContainer","checked","handleChangeRadio","isPasswordMatch","isEmailWrong","MuseumAdmin","museumAdminData","admin","museum_super_admin","status","deleteMuseumSuperAdmin","deleteMuseum","SET_MUSEUMS","SET_MUSEUM_ADMIN_DATA","museums","setMuseums","setMuseumAdminData","serviceAdminReducer","service","CommonCreateWorkerLogic","keyCode","MuseumAdminContainer","createMuseumSuperAdmin","getMuseumSuperAdmin","MuseumContainer","updateMuseum","updateMuseumData","getUsersLocationsList","Location","deleteLocation","swapHalls","selectHall","LocationContainer","updateLocation","updateLocationData","getUserHallsList","CommonCreateLogic","WithAdminRedirect","CreateLocation","createLocation","Hall","deleteHall","some","item","inCart","addArtifactToPrint","HallContainer","updateHall","updateHallData","getHallData","getUserArtifactsList","createHall","CreateArtifact","createArtifact","ChangeWorkerProfile","changeContainer","updateWorker","museumAdminId","deleteWorker","SET_ADMIN_DATA","museum_admins","museum_cashiers","setAdminData","adminReducer","WorkerProfile","ChangeWorkerContainer","updateWorkerData","Management","profile","people","a","WithSuperAdminRedirect","ManagementContainer","getAdminData","CreateWorker","createWorker","MuseumsList","museumItemContainer","WithServiceAdminRedirect","MuseumsListContainer","getMuseums","isLogin","CreateMuseum","createMuseum","Ticket","ticketItem","time","created_at","TicketsList","createTicket","ticketsContainer","tickets","t","SET_TICKETS","setTickets","cashierReducer","TicketsListContainer","getTickets","cashier","WithCashierRedirect","Preloader","preloaderContainer","fetchingLoader","PrintList","printArtifacts","removeArtifactsToPrint","printItem","PrintListContainer","clearPdf","open","artifacts_ids","c","RelocateContainer","isRelocated","isLocationSelected","isHallSelected","relocateArtifact","Container","URLSearchParams","search","get","setItem","setToken","initializingToken","CreateHall","SET_USER_DATA","UPDATE_USER_DATA","DELETE_USER_DATA","SET_AUTH","SET_LOGIN_WRONG","SET_INITIALIZED","SET_PASSWORD_CONDITIONS","SET_IS_CURRENT_PASSWORD_WRONG","SET_IS_PASSWORD_RIGHT","SET_IS_PASSWORD_SIMPLE","SET_IS_EMAIL_EXISTS","SET_IS_EMAIL_TAKEN","IS_FETCH","SET_USER_STATUS","userData","isInitialized","isFetch","isLoginWrong","isSetPasswordRight","isCurrentPasswordWrong","isEmailExists","isEmailTaken","isPasswordSimple","setAuth","setLoginWrong","getStatus","authAPI","setUserStatus","is_service_super_admin","is_museum_admin","is_museum_cashier","authReducer","phone_number","Login","login","forgot","detail","access","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.8c4a9efe.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"museum\":\"Artifact_museum__2ji09\",\"artifactContainer\":\"Artifact_artifactContainer__1BDJb\",\"top\":\"Artifact_top__1VP5L\",\"change\":\"Artifact_change__1BJR8\",\"deleteBtn\":\"Artifact_deleteBtn__3ZrpC\",\"name\":\"Artifact_name__1cel5\",\"artifact\":\"Artifact_artifact__WwHnq\",\"imgContainer\":\"Artifact_imgContainer__3VaJF\",\"info\":\"Artifact_info__3BIoE\",\"audio\":\"Artifact_audio__3NMkI\",\"descriptionContainer\":\"Artifact_descriptionContainer__3BGPP\",\"title\":\"Artifact_title__1PZP7\",\"description\":\"Artifact_description__3NgSu\",\"videoBtn\":\"Artifact_videoBtn__RQX9y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"step\":\"Main_step__2H74H\",\"stepText\":\"Main_stepText__3B-p2\",\"pointOuter\":\"Main_pointOuter__3Np9p\",\"pointInner\":\"Main_pointInner__3a9e4\",\"main\":\"Main_main__2yTz7\",\"logoContainer\":\"Main_logoContainer__TVKGk\",\"nameContainer\":\"Main_nameContainer__1ulw-\",\"name\":\"Main_name__2GoKa\",\"principe\":\"Main_principe__mTe01\",\"art\":\"Main_art__26Gsd\",\"way\":\"Main_way__2iboJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"location\":\"MuseumItemsList_location__1iBaf\",\"title\":\"MuseumItemsList_title__VvHIX\",\"img\":\"MuseumItemsList_img__IbxN6\",\"buttons\":\"MuseumItemsList_buttons__2lEd2\",\"descriptionContainer\":\"MuseumItemsList_descriptionContainer__1VMIT\",\"descriptionTitle\":\"MuseumItemsList_descriptionTitle__2-VaE\",\"description\":\"MuseumItemsList_description__2wSgo\",\"moveBtn\":\"MuseumItemsList_moveBtn__2C09a\",\"up\":\"MuseumItemsList_up__2DAYA\",\"down\":\"MuseumItemsList_down__Fx3DK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"museum\":\"Hall_museum__2UyZM\",\"title\":\"Hall_title__3JM48\",\"locationContainer\":\"Hall_locationContainer__3mDV-\",\"location\":\"Hall_location__141co\",\"description\":\"Hall_description__3wIfT\",\"change\":\"Hall_change__1V7E2\",\"deleteBtn\":\"Hall_deleteBtn__BkbK0\",\"itemsTitle\":\"Hall_itemsTitle__3lA7A\",\"goInside\":\"Hall_goInside__3-gQT\",\"inCart\":\"Hall_inCart__1VeL6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"locationContainer\":\"Museum_locationContainer__EW1n-\",\"museum\":\"Museum_museum__35_kC\",\"change\":\"Museum_change__-JcF7\",\"createContainer\":\"Museum_createContainer__1cwVM\",\"itemsTitle\":\"Museum_itemsTitle__1RRPJ\",\"goInside\":\"Museum_goInside__21cSD\",\"relocateBtn\":\"Museum_relocateBtn__1hy-1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"museum\":\"Location_museum__2c5WV\",\"title\":\"Location_title__1WfwW\",\"locationContainer\":\"Location_locationContainer__1M2Oz\",\"location\":\"Location_location__4xjKW\",\"description\":\"Location_description__2kn6s\",\"change\":\"Location_change__r45LE\",\"deleteBtn\":\"Location_deleteBtn__1Tlmt\",\"itemsTitle\":\"Location_itemsTitle__3MpMM\",\"goInside\":\"Location_goInside__wey8O\",\"relocateBtn\":\"Location_relocateBtn__miGoZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MuseumsList_container__2UuBZ\",\"museumItemContainer\":\"MuseumsList_museumItemContainer__1k0Vf\",\"description\":\"MuseumsList_description__2ImFd\",\"descriptionTitle\":\"MuseumsList_descriptionTitle__3ZPfw\",\"id\":\"MuseumsList_id__31_8-\",\"name\":\"MuseumsList_name__1FWUj\",\"goInside\":\"MuseumsList_goInside__2RDBX\",\"img\":\"MuseumsList_img__17OHd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"TicketsList_container__1hYtp\",\"ticketItem\":\"TicketsList_ticketItem__I4_pj\",\"id\":\"TicketsList_id__OoKn8\",\"title\":\"TicketsList_title__2ZRBS\",\"time\":\"TicketsList_time__25EeM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Management_container__3E2PF\",\"profile\":\"Management_profile__1cj3a\",\"people\":\"Management_people__2DuJy\",\"title\":\"Management_title__vN1Jx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"step\":\"Step_step__FJprB\",\"stepText\":\"Step_stepText__2E5Sf\",\"pointOuter\":\"Step_pointOuter__21Szu\",\"pointInner\":\"Step_pointInner__v9_7q\",\"phoneIcon\":\"Step_phoneIcon__YRe6_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imgContainer\":\"MuseumInformation_imgContainer__2jRBE\",\"name\":\"MuseumInformation_name__2bTcd\",\"img\":\"MuseumInformation_img__1DeVj\",\"descriptionTitle\":\"MuseumInformation_descriptionTitle__1zbM3\",\"description\":\"MuseumInformation_description__D_ZiZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MuseumAdmin_container__2eQB6\",\"title\":\"MuseumAdmin_title__1nlmx\",\"name\":\"MuseumAdmin_name__34BiI\",\"deleteBtn\":\"MuseumAdmin_deleteBtn__1uPVc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CreateWorkerInputs_container__uqnhD\",\"title\":\"CreateWorkerInputs_title__2VhzX\",\"InputContainer\":\"CreateWorkerInputs_InputContainer__3tC7K\",\"role\":\"CreateWorkerInputs_role__1sddG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PrintList_container__2DV8i\",\"printItem\":\"PrintList_printItem__2U7Mv\",\"img\":\"PrintList_img__3QYQh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scannerContainer\":\"Scanner_scannerContainer__1Akpu\",\"scanner\":\"Scanner_scanner__1dZZq\",\"title\":\"Scanner_title__3PRft\",\"refresh\":\"Scanner_refresh__zI50l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"Enter_enter__1W1yU\",\"inputContainer\":\"Enter_inputContainer__3FHDS\",\"input\":\"Enter_input__110Xj\",\"text\":\"Enter_text__hhLif\",\"links\":\"Enter_links__33gaP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"WorkerProfile_container__2Z64_\",\"button\":\"WorkerProfile_button__8c05m\",\"id\":\"WorkerProfile_id__1KkE5\",\"name\":\"WorkerProfile_name__TXtlJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Input_container__epC5x\",\"text\":\"Input_text__2bzRZ\",\"input\":\"Input_input__jqGsT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Textarea_container__1Meud\",\"text\":\"Textarea_text__2pZzz\",\"input\":\"Textarea_input__1qDFJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ChangeWorkerProfile_button__1x21c\",\"changeContainer\":\"ChangeWorkerProfile_changeContainer__2q3MB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"forgot\":\"Login_forgot__iypEM\",\"login\":\"Login_login__QFzCc\",\"title\":\"Login_title__3UK80\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"BlackButton_button__2sesd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ChangeForm_form__173mq\",\"title\":\"ChangeForm_title__18Xzf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"TransparentButton_button__wJ2Jt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"Top_enter__QC4Nq\",\"phoneContainer\":\"Top_phoneContainer__3Bm0r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backBtn\":\"BackBtn_backBtn__2gp-F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Transition_container__3K0Vr\",\"blur\":\"Transition_blur__1pCGd\",\"blueBlur\":\"Transition_blueBlur__1ycM_\",\"orangeBlur\":\"Transition_orangeBlur__gKPEy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"audio\":\"Audio_audio__etJno\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloaderContainer\":\"Preloader_preloaderContainer__1MXS4\"};","export default __webpack_public_path__ + \"static/media/group-10.718aee34.svg\";","export default __webpack_public_path__ + \"static/media/MIREA_Gerb_Colour.976f8ab1.png\";","export default __webpack_public_path__ + \"static/media/group-2.8745db2a.svg\";","export default __webpack_public_path__ + \"static/media/scan.be4f3cee.svg\";","export default __webpack_public_path__ + \"static/media/play.f831889d.svg\";","import React from 'react';\r\nimport s from './Step.module.css'\r\n\r\nconst Step = (props) => {\r\n    return (\r\n        <>\r\n            <div className={s.step}>\r\n                <div className={s.pointOuter}>\r\n                    <div className={s.pointInner}>\r\n\r\n                    </div>\r\n                </div>\r\n                <div className={s.stepText}>\r\n                    {props.text}\r\n                </div>\r\n            </div>\r\n            <div className={s.phoneIcon}>\r\n                <img src={props.img} alt=\"phone\"/>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Step;\r\n","import React from 'react';\r\nimport s from './TransparentButton.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst TransparentButton = (props) => {\r\n    return (\r\n        <NavLink className={s.button} to={`${props.link}`}>\r\n            {props.text}\r\n        </NavLink>\r\n    );\r\n}\r\n\r\nexport default TransparentButton;\r\n","import React from 'react';\r\nimport s from './BlackButton.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst BlackButton = (props) => {\r\n    return (\r\n        <>\r\n            {\r\n                props.artifactId !== \"\" ?\r\n                    <NavLink  className={s.button} to={`${props.link}`}>\r\n                        {props.text}\r\n                    </NavLink>\r\n                    :\r\n                    <div className={s.button}>\r\n                        {props.text}\r\n                    </div>\r\n            }\r\n        </>\r\n\r\n    );\r\n}\r\n\r\nexport default BlackButton;\r\n","import React from 'react';\r\nimport s from './Main.module.css'\r\nimport mirea from './../../../assets/images/group-10.svg'\r\nimport gerb from './../../../assets/images/MIREA_Gerb_Colour.png'\r\nimport logo from './../../../assets/images/group-2.svg'\r\nimport scan from './../../../assets/images/scan.svg'\r\nimport play from './../../../assets/images/play.svg'\r\nimport Step from \"./Step/Step\";\r\nimport TransparentButton from \"../../../Common/TransparentButton/TransparentButton\";\r\nimport BlackButton from \"../../../Common/BlackButton/BlackButton\";\r\n\r\nconst Main = (props) => {\r\n    return (\r\n        <div className={s.main}>\r\n            <div className={`blueBlur blur`}></div>\r\n            <div className={`orangeBlur blur`}></div>\r\n            <div className={s.logoContainer}>\r\n                <img src={gerb} alt=\"MIREA\"/>\r\n                <img src={mirea} alt=\"MIREA\"/>\r\n            </div>\r\n            <div className={s.nameContainer}>\r\n                <img src={logo} alt=\"artway\"/>\r\n                <div className={s.name}>\r\n                    — это сервис для просмотра\r\n                </div>\r\n            </div>\r\n            <div className={s.name}>\r\n                экспонатов музеев, выставок или экскурсий\r\n            </div>\r\n            <h3 className={s.principe}>\r\n                Как это работает?\r\n            </h3>\r\n            <Step img={scan} text='Перейдите к сканированию qr-кода выбранного экспоната или введите его ID' />\r\n            <Step img={play} text='На странице экспоната Вы сможете просмотреть информацию о нём и запустить аудиогид' />\r\n\r\n            <div className={s.step}>\r\n                <div className={s.pointOuter}>\r\n                    <div className={s.pointInner}>\r\n\r\n                    </div>\r\n                </div>\r\n                <div className={s.stepText}>\r\n                    Любите искусство вместе с\r\n                    <span className={s.art} > art</span>\r\n                    <span className={s.way}>way</span>\r\n                </div>\r\n            </div>\r\n            <div className={'links'}>\r\n                <TransparentButton link={'/enter'} text='Ввести ID экспоната вручную' />\r\n                <BlackButton link={`/scan`} text='Отсканировать qr-код' />\r\n                {\r\n                    props.isUserServiceAdmin &&\r\n                    <BlackButton link={'/s-admin'} text='Админ сервиса' />\r\n                }\r\n                {\r\n                    (props.isUserMuseumAdmin && props.isUserMuseumSuperAdmin) &&\r\n                    <BlackButton link={`/m-admin`} text='Супер админ музея' />\r\n                }\r\n                {\r\n                    (props.isUserMuseumAdmin && !props.isUserMuseumSuperAdmin) &&\r\n                    <BlackButton link={`/m-admin`} text='Админ музея' />\r\n                }\r\n                {\r\n                    props.isUserCashier &&\r\n                    <BlackButton link={`/cashier`} text='Кассир' />\r\n                }\r\n\r\n                {\r\n                    props.isTokenExists &&\r\n                    <BlackButton link={`/locations`} text='Карта музея' />\r\n                }\r\n\r\n                {/*<BlackButton link={`/artifacts`} text='Просмотреть экспонаты' />*/}\r\n\r\n                {/*<BlackButton link={`/test`} text='Go to test Component' />*/}\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Main from \"./Main\";\r\n\r\nclass MainContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isTokenExists: false, //существует ли токен у пользователя\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        let localToken = localStorage.getItem('token')\r\n        if(localToken !== null) { //Если у пользователя есть сохраненный токен\r\n            this.setState({\r\n                isTokenExists: true\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Main isUserServiceAdmin={this.props.isUserServiceAdmin} isUserMuseumSuperAdmin={this.props.isUserMuseumSuperAdmin}\r\n                  isUserMuseumAdmin={this.props.isUserMuseumAdmin} isUserCashier={this.props.isUserCashier}\r\n                  isTokenExists={this.state.isTokenExists}\r\n\r\n            />\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isUserServiceAdmin: state.auth.isUserServiceAdmin,\r\n        isUserMuseumSuperAdmin: state.auth.isUserMuseumSuperAdmin,\r\n        isUserMuseumAdmin: state.auth.isUserMuseumAdmin,\r\n        isUserCashier: state.auth.isUserCashier,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{})(MainContainer);\r\n","export default __webpack_public_path__ + \"static/media/enterPhone.20954098.svg\";","export default __webpack_public_path__ + \"static/media/scanPhone.c02696d5.svg\";","export default __webpack_public_path__ + \"static/media/next.4b9331c8.svg\";","import React from 'react';\r\nimport s from './BackBtn.module.css'\r\nimport prev from \"../../assets/images/next.svg\";\r\n\r\nconst BackBtn = (props) => {\r\n    return (\r\n        <button onClick={() => props.history.goBack()} className={s.backBtn}>\r\n            <img src={prev} alt=\"back\"/>\r\n        </button>\r\n    );\r\n}\r\n\r\nexport default BackBtn;\r\n","import React from 'react';\r\nimport s from './Top.module.css'\r\nimport enterPhone from './../../../../assets/images/enterPhone.svg'\r\nimport scanPhone from \"../../../../assets/images/scanPhone.svg\";\r\nimport BackBtn from \"../../../../Common/BackBtn/BackBtn\";\r\n\r\n\r\nconst Top = (props) => {\r\n        return (\r\n            <div className={'blackTop'}>\r\n                <BackBtn history={props.history} />\r\n                <div className={s.phoneContainer}>\r\n                    {\r\n                        props.section === 'scan' ? <img src={scanPhone} alt=\"phone\"/>\r\n                                             : <img src={enterPhone} alt=\"phone\"/>\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\nexport default Top\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport QrReader from 'react-qr-reader'\r\nimport {Route} from \"react-router-dom\";\r\nimport s from './Scanner.module.css'\r\nimport Top from \"../Top/Top\";\r\nimport refresh from './../../../../assets/images/refresh-256x256.png'\r\n\r\nclass ScannerContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            facingMode: 'environment',\r\n        }\r\n        this.changeCamera = this.changeCamera.bind(this)\r\n    }\r\n\r\n    changeCamera() {\r\n        if(this.state.facingMode === 'environment') {\r\n            this.setState({\r\n                facingMode: 'user'\r\n            })\r\n        }\r\n        if(this.state.facingMode === 'user') {\r\n            this.setState({\r\n                facingMode: 'environment'\r\n            })\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        const previewStyle = {\r\n\r\n        }\r\n        if(this.props.result !== null) {\r\n            return <Route path='/' component={() => { window.location = `${this.props.result}`; return null;} }/>\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <Top history={this.props.history} section={'scan'} />\r\n                <div className={s.scannerContainer}>\r\n                    <div className={s.title}>\r\n                        Отсканируйте QR код\r\n                    </div>\r\n                    <QrReader\r\n                        facingMode={this.state.facingMode}\r\n                        delay={this.props.delay}\r\n                        resolution={600}\r\n                        className={s.scanner}\r\n                        style={previewStyle}\r\n                        showViewFinder={false}\r\n                        onError={this.props.handleError}\r\n                        onScan={this.props.handleScan}\r\n                    />\r\n\r\n                <button className={s.refresh} onClick={this.changeCamera}><img src={refresh} alt=\"refresh button\"/></button>\r\n\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{})(ScannerContainer);\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport s from './Enter.module.css'\r\nimport BlackButton from \"../../../../Common/BlackButton/BlackButton\";\r\nimport Top from \"../Top/Top\";\r\n\r\nconst Enter = (props) => {\r\n    return (\r\n        <>\r\n            <Top history={props.history} section={'enter'} />\r\n            <div className={s.enter}>\r\n                <div className={s.inputContainer}>\r\n                    <div className={s.input}>\r\n                        <input onChange={props.handleChange} type=\"text\" placeholder={'1'} value={props.artifactId} name={'artifactId'}/>\r\n                    </div>\r\n                    <div className={s.text}>\r\n                        Введите номер экспоната\r\n                    </div>\r\n                </div>\r\n                <div className={'links'}>\r\n                    <BlackButton artifactId={props.artifactId} link={`/artifacts/${props.artifactId}`} text='Перейти к экспонату' />\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Enter;\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {Route, withRouter} from \"react-router-dom\";\r\nimport ScannerContainer from \"./Scanner/ScannerContainer\";\r\nimport Enter from \"./Enter/Enter\";\r\nimport s from './Transition.module.css'\r\n\r\nclass Transition extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            delay: 100,\r\n            result: null,\r\n            artifactId: '',\r\n        }\r\n        this.handleScan = this.handleScan.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.handleError = this.handleError.bind(this)\r\n    }\r\n\r\n    handleScan(data){\r\n        this.setState({\r\n            result: data,\r\n        })\r\n    }\r\n    handleChange(e){\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n        this.setState({\r\n            [name]: value,\r\n        })\r\n    }\r\n    handleError(err){\r\n        console.error(err)\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={s.container}>\r\n                <div className={`blueBlur blur`}></div>\r\n                <div className={`orangeBlur blur`}></div>\r\n\r\n                <Route exact path='/scan' render={ () => <ScannerContainer handleScan={this.handleScan}\r\n                                                                           handleError={this.handleError}\r\n                                                                           delay={this.state.delay}\r\n                                                                           history={this.props.history}\r\n                                                                           result={this.state.result} />} />\r\n\r\n                <Route exact path='/enter' render={ () => <Enter handleChange={this.handleChange}\r\n                                                                 history={this.props.history}\r\n                                                                 artifactId={this.state.artifactId} />} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nlet WithUrlTransition = withRouter(Transition)\r\nexport default connect(mapStateToProps,{})(WithUrlTransition);\r\n","import React from 'react';\r\nimport s from './Audio.module.css'\r\nimport H5AudioPlayer, { RHAP_UI } from \"react-h5-audio-player\";\r\nimport './Audio.css'\r\n\r\nconst Audio = (props) => {\r\n\r\n    return (\r\n        <>\r\n            <H5AudioPlayer className={s.audio}\r\n                           volume={0.1}\r\n                           src={props.audio}\r\n                           showJumpControls={false}\r\n                           customProgressBarSection={[\r\n                               RHAP_UI.MAIN_CONTROLS,\r\n                               RHAP_UI.CURRENT_TIME, RHAP_UI.PROGRESS_BAR, RHAP_UI.DURATION\r\n                           ]}\r\n                           customControlsSection={[]}\r\n                           preload={\"metadata\"}\r\n                           autoPlay={false}\r\n                           autoPlayAfterSrcChange={false}\r\n            />\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Audio;\r\n","import React from 'react';\r\nimport s from './Input.module.css'\r\n\r\nconst Input = (props) => {\r\n    return (\r\n        <div className={s.container}>\r\n            <div className={s.text}>\r\n                {props.text}\r\n            </div>\r\n            <input className={s.input} onKeyUp={props.handleFindKey} value={props.value} type={props.type} name={props.name} onFocus={props.handleFocus} onChange={props.handleChange}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Input;\r\n","import React from 'react';\r\nimport s from './Textarea.module.css'\r\n\r\nconst Textarea = (props) => {\r\n    return (\r\n        <div className={s.container}>\r\n            <div className={s.text}>\r\n                {props.text}\r\n            </div>\r\n            <textarea className={s.input} onKeyUp={props.handleFindKey} value={props.value} name={props.name} onFocus={props.handleFocus} onChange={props.handleChange}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Textarea;\r\n","export default __webpack_public_path__ + \"static/media/left-chevron.dbc9a2c1.svg\";","import React from 'react';\r\nimport s from './ChangeForm.module.css'\r\nimport Input from \"../Input/Input\";\r\nimport Textarea from \"../Textarea/Textarea\";\r\nimport prev from \"../../assets/images/left-chevron.svg\";\r\n\r\nconst ChangeForm = (props) => {\r\n    return (\r\n        <div className={s.form}>\r\n            <button onClick={() => props.history.goBack()} className={'backBtn'}>\r\n                <img src={prev} alt=\"back\"/>\r\n            </button>\r\n            <h1 className={s.title}>{props.text}</h1>\r\n            <Input text={'Название'} handleFindKey={props.handleFindKey} value={props.name} type={'text'} name={'name'} handleFocus={props.handleChangeInputs} handleChange={props.handleChange} />\r\n\r\n            <Textarea text={'Описание'} value={props.description} name={'description'} handleFocus={props.handleChangeInputs} handleChange={props.handleChange} />\r\n\r\n            {\r\n                props.isEmptyInputs &&\r\n                <div className='form__wrong'>\r\n                    Все поля должны быть заполнены\r\n                </div>\r\n            }\r\n\r\n            <Input text={'Фотография'} type={'file'} name={'img'} handleFocus={props.handleChangeInputs} handleChange={props.handleChangeFile} />\r\n            {\r\n                props.isItemArtifact &&\r\n                    <>\r\n                        <Input text={'Аудиофайл'} type={'file'} name={'audio'} handleFocus={props.handleChangeInputs} handleChange={props.handleChangeFile} />\r\n                        <Input text={'Ссылка на видео'} handleFindKey={props.handleFindKey} type={'text'} value={props.video} name={'video'} handleFocus={props.handleChangeInputs} handleChange={props.handleChange} />\r\n                    </>\r\n            }\r\n            {\r\n                props.isPhotoTypeWrong &&\r\n                <div className='form__wrong'>\r\n                    Пожалуйста, добавьте картинку\r\n                </div>\r\n            }\r\n            {\r\n                props.isAudioTypeWrong &&\r\n                <div className='form__wrong'>\r\n                    Пожалуйста, добавьте аудио\r\n                </div>\r\n            }\r\n            {\r\n                props.isVideoUrlWrong &&\r\n                <div className='form__wrong'>\r\n                    Пожалуйста, добавьте корректную ссылку на видео\r\n                </div>\r\n            }\r\n            <button className={'submit'} onClick={props.handleSubmit}>Сохранить</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ChangeForm;\r\n","import React from 'react';\r\nimport s from './Artifact.module.css'\r\nimport prev from './../../../assets/images/next.svg'\r\nimport Audio from \"../../../Common/Audio/Audio\";\r\nimport ChangeForm from \"../../../Common/ChangeForm/ChangeForm\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Artifact = (props) => {\r\n    return (\r\n        <div className={s.museum}>\r\n            {\r\n                props.isUserMuseumAdmin && <NavLink className={'create'} to={'/m-admin/print'}>Артефакты для печати</NavLink>\r\n            }\r\n            {\r\n                props.isUserMuseumAdmin &&(\r\n                (props.isChanging) ?\r\n                    <ChangeForm {...props}\r\n                                isItemArtifact={true} //Является ли создаваемы объект артефактом\r\n                    />\r\n                    :\r\n                    <>\r\n                        <button className={s.change} onClick={() => props.toggleIsChanging(true)}>Изменить или удалить</button>\r\n                    </>)\r\n            }\r\n\r\n            {\r\n                props.isChanging &&\r\n                <button className={s.deleteBtn} onClick={props.deleteArtifact}>Удалить артефакт</button>\r\n            }\r\n            <div className={s.artifactContainer}>\r\n                <div className='blackTop'>\r\n                    <div className={s.top}>\r\n                        <button onClick={() => props.history.goBack()} className={'backBtn'}>\r\n                            <img src={prev} alt=\"back\"/>\r\n                        </button>\r\n                        <div className={s.name}>\r\n                            {props.name}\r\n                        </div>\r\n                        <div></div>\r\n                    </div>\r\n                </div>\r\n                <div className={s.artifact}>\r\n                    <div className={s.imgContainer}>\r\n                        <img src={props.main_img} alt=\"artifact\"/>\r\n                    </div>\r\n\r\n                    <div className={s.info}>\r\n                        <div className={s.title}>\r\n                            Аудиогид\r\n                        </div>\r\n                        <Audio audio={props.main_audio} />\r\n\r\n                        <div className={s.descriptionContainer}>\r\n                            <div className={s.title}>\r\n                                Описание\r\n                            </div>\r\n                            <div className={s.description}>\r\n                                {props.description}\r\n                            </div>\r\n                        </div>\r\n                        {\r\n                            props.video !== '' &&\r\n                                <div>\r\n                                    <div className={s.title}>\r\n                                        Видео\r\n                                    </div>\r\n                                    <div>\r\n                                        <a href={props.video} className={s.videoBtn} target={'_blank'} rel=\"noreferrer noopener\">Открыть</a>\r\n                                    </div>\r\n                                </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default Artifact;\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n\r\n    };\r\n}\r\n\r\nexport const CommonMuseumLogic = (Component) => {\r\n\r\n    class CommonMuseumLogic extends React.Component {\r\n\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                name: \"\",\r\n                id: 0,\r\n                description: \"\",\r\n                img: \"\",\r\n                audio: \"\",\r\n                video: \"\",\r\n                main_audio: null,\r\n                main_img: null,\r\n                isChanging: false, //Меняется ли информация\r\n                isEmptyInputs: false, //Если ли пустые поля\r\n                isPhotoTypeWrong: false, //Если файл не является картинкой\r\n                isAudioTypeWrong: false, //Если файл не является аудио\r\n                isVideoUrlWrong: false, //Если видео не является ссылкой\r\n            }\r\n\r\n            this.handleChange = this.handleChange.bind(this)\r\n            this.handleChangeInputs = this.handleChangeInputs.bind(this)\r\n            this.handleChangeFile = this.handleChangeFile.bind(this)\r\n            this.toggleIsChanging = this.toggleIsChanging.bind(this)\r\n            this.updateState = this.updateState.bind(this)\r\n            this.setValidation = this.setValidation.bind(this)\r\n            this.setImage = this.setImage.bind(this)\r\n            this.setAudio = this.setAudio.bind(this)\r\n        }\r\n\r\n        setImage(img) { //Обновление фотографии в state\r\n            this.setState({\r\n                img: img,\r\n            })\r\n        }\r\n        setAudio(audio) { //Обновление аудио в state\r\n            this.setState({\r\n                audioToUpdate: audio,\r\n            })\r\n        }\r\n\r\n        setValidation(name, bool) {\r\n            this.setState({\r\n                [name]: bool,\r\n            })\r\n        }\r\n        toggleIsChanging(isChanging) {\r\n            this.setState({\r\n                isChanging: isChanging,\r\n                isPhotoTypeWrong: false,\r\n                isAudioTypeWrong: false,\r\n                isVideoUrlWrong: false,\r\n            })\r\n        }\r\n\r\n        handleChange(e) {\r\n            let name = e.target.name\r\n            let value = e.target.value\r\n\r\n            this.setState({\r\n                [name]: value,\r\n            })\r\n        }\r\n\r\n        handleChangeFile(e) {\r\n            let name = e.target.name\r\n            let file = e.target.files[0]\r\n\r\n            this.setState({\r\n                [name]: file,\r\n                isPhotoTypeWrong: false,\r\n                isAudioTypeWrong: false,\r\n            })\r\n        }\r\n\r\n        handleChangeInputs() {\r\n            this.setState({\r\n                isEmptyInputs: false,\r\n            })\r\n        }\r\n\r\n        updateState(id, name, description, main_img, audio, video) {\r\n            this.setState({\r\n                name:name,\r\n                description: description,\r\n                id: id,\r\n                main_img: main_img,\r\n                main_audio: audio,\r\n                video: video,\r\n            })\r\n        }\r\n\r\n        render() {\r\n            return (\r\n                <Component {...this.props}\r\n                           handleChangeInputs={this.handleChangeInputs}\r\n                           toggleIsChanging={this.toggleIsChanging}\r\n                           setValidation={this.setValidation}\r\n                           setImage={this.setImage}\r\n                           setAudio={this.setAudio}\r\n                           handleChange={this.handleChange}\r\n                           updateState={this.updateState}\r\n                           handleChangeFile={this.handleChangeFile}\r\n                           isPhotoTypeWrong={this.state.isPhotoTypeWrong}\r\n                           isAudioTypeWrong={this.state.isAudioTypeWrong}\r\n                           isVideoUrlWrong={this.state.isVideoUrlWrong}\r\n                           isChanging={this.state.isChanging}\r\n                           isEmptyInputs={this.state.isEmptyInputs}\r\n                           name={this.state.name}\r\n                           description={this.state.description}\r\n                           img={this.state.img}\r\n                           audio={this.state.audio}\r\n                           video={this.state.video}\r\n                           main_audio={this.state.main_audio}\r\n                           main_img={this.state.main_img}\r\n                />\r\n            )\r\n        }\r\n    }\r\n\r\n    let ConnectedCommonMuseumComponent = connect(mapStateToPropsForRedirect)(CommonMuseumLogic);\r\n\r\n    return ConnectedCommonMuseumComponent;\r\n}\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n\r\n    };\r\n}\r\n\r\nexport const CommonUpdateLogic = (Component) => {\r\n\r\n    class CommonUpdateLogic extends React.Component {\r\n\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                isRight: false, //Если проверка прошла успешно\r\n                isCreate: false, //Успешно ли создание\r\n            }\r\n            this.handleSubmit = this.handleSubmit.bind(this)\r\n            this.changeCreate = this.changeCreate.bind(this)\r\n        }\r\n\r\n        handleSubmit() {\r\n            if(this.props.description === '' || this.props.name === '') { //Ошибка в пустых полях\r\n                this.props.setValidation('isEmptyInputs', true)\r\n            }\r\n            else if(this.props.img === '') { //Если пользователь не хочет обновлять фотографию, то просто берется ссылка на старую\r\n                this.props.setImage(this.props.main_img) //Обновление фотографии в state\r\n                this.props.toggleIsChanging(false)\r\n                this.changeCreate(true)\r\n            }\r\n            else if(/image/.test(this.props.img.type)) {\r\n                this.props.toggleIsChanging(false)\r\n                this.changeCreate(true)\r\n            }\r\n            else {\r\n                this.props.setValidation('isPhotoTypeWrong', true)\r\n                this.changeCreate(false)\r\n            }\r\n        }\r\n\r\n        changeCreate(isCreate) {\r\n            this.setState({\r\n                isCreate: isCreate,\r\n                isRight: isCreate,\r\n            })\r\n\r\n        }\r\n\r\n        render() {\r\n            return (\r\n                <Component {...this.props}\r\n                           isCreate={this.state.isCreate}\r\n                           isRight={this.state.isRight}\r\n                           handleSubmit={this.handleSubmit}\r\n                           changeCreate={this.changeCreate}\r\n                />\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    let ConnectedCommonUpdateComponent = connect(mapStateToPropsForRedirect)(CommonUpdateLogic);\r\n\r\n    return ConnectedCommonUpdateComponent;\r\n}\r\n","import * as axios from \"axios\";\r\n\r\nconst debug = true\r\n//backend\r\n//true for localhost\r\n//false for prod.\r\n\r\nlet baseUrl = ''\r\n\r\nif (debug) {\r\n    baseUrl = 'http://127.0.0.1:8000/'\r\n}\r\nelse {\r\n    baseUrl = 'https://devgang.ru/'\r\n}\r\n\r\nconst getOptions = (mass, auth, method) => { //Если нужен Bearer token, то auth = true\r\n    let formdata = new FormData();\r\n\r\n    mass.map(m => {\r\n        return formdata.append(m.name, m.value);\r\n    })\r\n\r\n    let requestOptions = {\r\n        method: method,\r\n        body: formdata,\r\n        redirect: 'follow',\r\n    }\r\n    let requestAuthOptions = {\r\n        method: method,\r\n        body: formdata,\r\n        headers: getHeaders(),\r\n        redirect: 'follow',\r\n    }\r\n    if(!auth) return requestOptions;\r\n    else return requestAuthOptions;\r\n}\r\n\r\nconst getHeaders = () => {\r\n    const accessToken = 'Bearer  ' + localStorage.getItem('accessToken')\r\n    let myHeaders = new Headers();\r\n    myHeaders.append(\"Authorization\", accessToken);\r\n    return myHeaders\r\n}\r\n\r\nexport const artifactApi = {\r\n    getArtifactData(id) { //Получение информации об экспонате по id\r\n        return axios.get(baseUrl + `api/artifacts/${id}`)\r\n            .then(response => response)\r\n    },\r\n    getArtifactsList() { //Получение списка экспонатов\r\n        return axios.get(baseUrl + `api/artifacts`)\r\n            .then(response => response)\r\n    },\r\n    // getArtifactsQr(id) { //Получение qr экспоната по id\r\n    //     return axios.get(baseUrl + `api/artifacts/${id}/qr-code`)\r\n    //         .then(response => response)\r\n    // }\r\n}\r\n\r\nexport const museumApi = {\r\n    //Музей\r\n    getMuseumData() { //Получение информации об музее по пользователю\r\n        const accessToken = 'Bearer  ' + localStorage.getItem('accessToken')\r\n        let myHeaders = new Headers();\r\n        myHeaders.append(\"Authorization\", accessToken);\r\n        let requestOptions = {\r\n            method: \"GET\",\r\n            headers: myHeaders,\r\n            redirect: 'follow',\r\n        }\r\n        return fetch(baseUrl + `api/m-admin`, requestOptions)\r\n    },\r\n\r\n    updateMuseumData(museum_id, name, img, description) { //Изменение информации о музее\r\n        let options = getOptions([{name: 'museum_id', value: museum_id}, {name: 'name', value: name},{name: 'img', value: img}, {name: 'description', value: description}], true,  'PUT')\r\n        return fetch(baseUrl + `api/m-admin`, options)\r\n    },\r\n\r\n    getUserLocationsList(token) { //Получения списка локаций музея по токену пользователя\r\n        let options = getOptions([{name: 'token', value: token}], false,  'POST')\r\n        return fetch(baseUrl + `api/locations_map`, options)\r\n    },\r\n\r\n    //Локации\r\n    getLocationData(location_id) { //Получение информации о локации по id\r\n        const accessToken = 'Bearer  ' + localStorage.getItem('accessToken')\r\n        let myHeaders = new Headers();\r\n        myHeaders.append(\"Authorization\", accessToken);\r\n        let requestOptions = {\r\n            method: \"GET\",\r\n            headers: myHeaders,\r\n            redirect: 'follow',\r\n        }\r\n        return fetch(baseUrl + `api/m-admin/${location_id}`, requestOptions)\r\n    },\r\n\r\n    updateLocationData(location_id, name, img, description) { //Изменение информации о локации по id\r\n        let options = getOptions([{name: 'name', value: name},{name: 'img', value: img}, {name: 'description', value: description}], true,  'PUT')\r\n        return fetch(baseUrl + `api/m-admin/${location_id}`, options)\r\n    },\r\n\r\n    createLocation(name, img, description) { //Создание локации по музею пользователя\r\n        let options = getOptions([{name: 'name', value: name},{name: 'img', value: img}, {name: 'description', value: description}], true,  'POST')\r\n        return fetch(baseUrl + `api/m-admin`, options)\r\n    },\r\n\r\n    deleteLocation(location_id) { //Удаление локации по id\r\n        let options = getOptions([], true,  'DELETE')\r\n        return fetch(baseUrl + `api/m-admin/${location_id}`, options)\r\n\r\n    },\r\n    swapLocations(swap_type, obj_id) { //Изменение позиций локации\r\n        let options = getOptions([{name: 'swap_type', value: swap_type},{name: 'obj_id', value: obj_id}], true,  'POST')\r\n        return fetch(baseUrl + `api/swap_locations`, options)\r\n    },\r\n    getUserHallsList(token, location_id) { //Получения списка залов музея по токену пользователя и id локации\r\n        let options = getOptions([{name: 'token', value: token}, {name: 'location_pk', value: location_id}], false,  'POST')\r\n        return fetch(baseUrl + `api/halls_map`, options)\r\n    },\r\n\r\n    //Залы\r\n    getHallData(location_id, hall_id) { //Получение информации о зале по id зала и его локации\r\n        const accessToken = 'Bearer  ' + localStorage.getItem('accessToken')\r\n        let myHeaders = new Headers();\r\n        myHeaders.append(\"Authorization\", accessToken);\r\n        let requestOptions = {\r\n            method: \"GET\",\r\n            headers: myHeaders,\r\n            redirect: 'follow',\r\n        }\r\n        return fetch(baseUrl + `api/m-admin/${location_id}/${hall_id}`, requestOptions)\r\n    },\r\n\r\n    updateHallData(location_id, hall_id, name, img, description) { //Изменение информации о зале по id его локации и зала\r\n        let options = getOptions([{name: 'name', value: name},{name: 'img', value: img}, {name: 'description', value: description}], true,  'PUT')\r\n        return fetch(baseUrl + `api/m-admin/${location_id}/${hall_id}`, options)\r\n    },\r\n\r\n    createHall(location_id, name, img, description) { //Создание зала по id локации\r\n        let options = getOptions([{name: 'name', value: name},{name: 'img', value: img}, {name: 'description', value: description}], true,  'POST')\r\n        return fetch(baseUrl + `api/m-admin/${location_id}`, options)\r\n    },\r\n\r\n    deleteHall(location_id, hall_id) { //Удаление зала по id его локации и id зала\r\n        let options = getOptions([], true,  'DELETE')\r\n        return fetch(baseUrl + `api/m-admin/${location_id}/${hall_id}`, options)\r\n\r\n    },\r\n    swapHalls(swap_type, obj_id) { //Изменение позиций залов в локации\r\n        let options = getOptions([{name: 'swap_type', value: swap_type},{name: 'obj_id', value: obj_id}], true,  'POST')\r\n        return fetch(baseUrl + `api/swap_halls`, options)\r\n    },\r\n    getUserArtifactsList(token, hall_id) { //Получения списка артефактов музея по токену пользователя и id зала\r\n        let options = getOptions([{name: 'token', value: token}, {name: 'hall_pk', value: hall_id}], false,  'POST')\r\n        return fetch(baseUrl + `api/artifacts_map`, options)\r\n    },\r\n\r\n    //Артефакты\r\n    getArtifactData(location_id, hall_id, artifact_id) { //Получение информации об артефакте по id локации, зала и артефакта\r\n        const accessToken = 'Bearer  ' + localStorage.getItem('accessToken')\r\n        let myHeaders = new Headers();\r\n        myHeaders.append(\"Authorization\", accessToken);\r\n        let requestOptions = {\r\n            method: \"GET\",\r\n            headers: myHeaders,\r\n            redirect: 'follow',\r\n        }\r\n        return fetch(baseUrl + `api/m-admin/${location_id}/${hall_id}/${artifact_id}`, requestOptions)\r\n    },\r\n\r\n    updateArtifactData(location_id, hall_id, artifact_id, name, img, description, audio, video) { //Изменение информации об артефакте по id локации, зала и артефакта\r\n        let options = getOptions([{name: 'name', value: name},{name: 'img', value: img}, {name: 'description', value: description}, {name: 'audio', value: audio}, {name: 'video', value: video}], true,  'PUT')\r\n        return fetch(baseUrl + `api/m-admin/${location_id}/${hall_id}/${artifact_id}`, options)\r\n    },\r\n\r\n    createArtifact(location_id, hall_id, name, img, description, audio, video) { //Создание артефакта по id локации и зала\r\n        let options = getOptions([{name: 'name', value: name},{name: 'img', value: img}, {name: 'description', value: description}, {name: 'audio', value: audio}, {name: 'video', value: video}], true,  'POST')\r\n        return fetch(baseUrl + `api/m-admin/${location_id}/${hall_id}`, options)\r\n    },\r\n\r\n    deleteArtifact(location_id, hall_id, artifact_id) { //Удаление артефакта по id локации, зала и артефакта\r\n        let options = getOptions([], true,  'DELETE')\r\n        return fetch(baseUrl + `api/m-admin/${location_id}/${hall_id}/${artifact_id}`, options)\r\n\r\n    },\r\n\r\n    swapArtifacts(swap_type, obj_id) { //Изменение позиций артефактов\r\n        let options = getOptions([{name: 'swap_type', value: swap_type},{name: 'obj_id', value: obj_id}], true,  'POST')\r\n        return fetch(baseUrl + `api/swap_artifacts`, options)\r\n    },\r\n\r\n    printArtifactsCards(artifacts, size) {\r\n        const accessToken = 'Bearer  ' + localStorage.getItem('accessToken')\r\n        let myHeaders = new Headers();\r\n\r\n        myHeaders.append(\"Authorization\", accessToken);\r\n        myHeaders.append(\"Content-Type\", \"application/json\");\r\n        let raw = JSON.stringify({ \"artifacts\": artifacts, \"print_type\": size});\r\n        let requestOptions = {\r\n            method: \"POST\",\r\n            headers: myHeaders,\r\n            body: raw,\r\n            redirect: 'follow',\r\n        }\r\n        return fetch(baseUrl + `api/m-admin/print`, requestOptions)\r\n    },\r\n    relocateArtifact(hall_id, artifact_id) {\r\n        let options = getOptions([{name: 'artifact_pk', value: artifact_id},{name: 'hall_pk', value: hall_id}], true,  'POST')\r\n        return fetch(baseUrl + `api/relocate_artifact`, options)\r\n    },\r\n\r\n}\r\n\r\nexport const authApi = {\r\n    // account() {//Проверка пользователя\r\n    //     const accessToken = 'Bearer  ' + localStorage.getItem('accessToken')\r\n    //     let myHeaders = new Headers();\r\n    //     myHeaders.append(\"Authorization\", accessToken);\r\n    //     let requestOptions = {\r\n    //         method: \"GET\",\r\n    //         headers: myHeaders,\r\n    //         redirect: 'follow',\r\n    //     }\r\n    //     return fetch(baseUrl + `api/account`, requestOptions)\r\n    // },\r\n\r\n    getStatus() {//Проверка пользователя\r\n        let localToken = localStorage.getItem('accessToken')\r\n        let accessToken = ''\r\n        if(localToken !== null) {\r\n            accessToken = 'Bearer  ' + localToken\r\n        }\r\n        let myHeaders = new Headers();\r\n        myHeaders.append(\"Authorization\", accessToken);\r\n        let requestOptions = {\r\n            method: \"GET\",\r\n            headers: myHeaders,\r\n            redirect: 'follow',\r\n        }\r\n        return fetch(baseUrl + `api/user_statuses`, requestOptions)\r\n    },\r\n\r\n\r\n\r\n    accountChange(last_name, first_name, middle_name, phone_number) {//Изменение данных пользователя\r\n        let options = getOptions([{name: 'last_name', value: last_name}, {name: 'first_name', value: first_name}, {name: 'middle_name', value: middle_name}, {name: 'phone_number', value: phone_number}], true,  'PUT')\r\n        return fetch(baseUrl + `api/account`, options)\r\n    },\r\n    login(username, password) {//Логин\r\n        let options = getOptions([{name: 'username', value: username}, {name: 'password', value: password}], false,  'POST')\r\n        return fetch(baseUrl + `auth/jwt/create/`, options)\r\n    },\r\n    register(username, password, email, last_name, first_name, middle_name, phone_number) { //Регистрация\r\n        let options = getOptions([{name: 'username', value: username}, {name: 'password', value: password}, {name: 'email', value: email},\r\n            {name: 'last_name', value: last_name}, {name: 'first_name', value: first_name}, {name: 'middle_name', value: middle_name}, {name: 'phone_number', value: phone_number}], false,  'POST')\r\n        return fetch(baseUrl + `auth/users/`, options)\r\n    },\r\n    activation(uid, token) { //Активация аккаунта\r\n        let options = getOptions([{name: 'uid', value: uid}, {name: 'token', value: token}], false,  'POST')\r\n        return fetch(baseUrl + `auth/users/activation/`, options)\r\n    },\r\n    setPassword(current_password, new_password, re_new_password) { //Смена пароля\r\n        let options = getOptions([{name: 'new_password', value: new_password}, {name: 're_new_password', value: re_new_password}, {name: 'current_password', value: current_password}], true,  'POST')\r\n        return fetch(baseUrl + `auth/users/set_password/`, options)\r\n    },\r\n    resetPassword(email) { //Смена пароля\r\n        let options = getOptions([{name: 'email', value: email}], false,  'POST')\r\n        return fetch(baseUrl + `auth/users/reset_password/`, options)\r\n    },\r\n    accountRecovery(email) { //Проверка email пользователя\r\n        let options = getOptions([{name: 'email', value: email}], false,  'POST')\r\n        return fetch(baseUrl + `api/account_recovery`, options)\r\n    },\r\n    resetPasswordConfirm(uid, token, new_password, re_new_password) { //Смена пароля\r\n        let options = getOptions([{name: 'uid', value: uid}, {name: 'token', value: token}, {name: 'new_password', value: new_password}, {name: 're_new_password', value: re_new_password}], false,  'POST')\r\n        return fetch(baseUrl + `auth/users/reset_password_confirm/`, options)\r\n    },\r\n}\r\n\r\n//Администратор музея\r\nexport const adminApi = {\r\n    getAdminData() {\r\n        const accessToken = 'Bearer  ' + localStorage.getItem('accessToken')\r\n        let myHeaders = new Headers();\r\n        myHeaders.append(\"Authorization\", accessToken);\r\n        let requestOptions = {\r\n            method: \"GET\",\r\n            headers: myHeaders,\r\n            redirect: 'follow',\r\n        }\r\n        return fetch(baseUrl + `api/m-admin/hr-management`, requestOptions)\r\n    },\r\n    updateWorkerProfile(last_name, first_name, middle_name, email, worker_id) {\r\n        let options = getOptions([{name: 'last_name', value: last_name},{name: 'first_name', value: first_name}, {name: 'middle_name', value: middle_name},\r\n            {name: 'email', value: email}, {name: 'username', value: email}], true,  'PUT')\r\n        return fetch(baseUrl + `api/m-admin/hr-management/${worker_id}`, options)\r\n    },\r\n    createWorker(last_name, first_name, middle_name, email, password, role) {\r\n        let options = getOptions([{name: 'last_name', value: last_name},{name: 'first_name', value: first_name}, {name: 'middle_name', value: middle_name},\r\n            {name: 'email', value: email}, {name: 'username', value: email}, {name: 'password', value: password}, {name: 'role', value: role}], true,  'POST')\r\n        return fetch(baseUrl + `api/m-admin/hr-management`, options)\r\n    },\r\n    deleteWorkerProfile(worker_id) {\r\n        let options = getOptions([], true,  'DELETE')\r\n        return fetch(baseUrl + `api/m-admin/hr-management/${worker_id}`, options)\r\n    }\r\n}\r\n\r\n//Администратор всего сервиса\r\nexport const serviceAdminApi = {\r\n    getMuseums() { //Получение списка музеев\r\n        const accessToken = 'Bearer  ' + localStorage.getItem('accessToken')\r\n        let myHeaders = new Headers();\r\n        myHeaders.append(\"Authorization\", accessToken);\r\n        let requestOptions = {\r\n            method: \"GET\",\r\n            headers: myHeaders,\r\n            redirect: 'follow',\r\n        }\r\n        return fetch(baseUrl + `api/s-admin`, requestOptions)\r\n    },\r\n    getMuseumAdminData(museum_id) { //Получение информации об админе конкретного музея\r\n        const accessToken = 'Bearer  ' + localStorage.getItem('accessToken')\r\n        let myHeaders = new Headers();\r\n        myHeaders.append(\"Authorization\", accessToken);\r\n        let requestOptions = {\r\n            method: \"GET\",\r\n            headers: myHeaders,\r\n            redirect: 'follow',\r\n        }\r\n        return fetch(baseUrl + `api/s-admin/${museum_id}`, requestOptions)\r\n    },\r\n    createMuseum(name, img, description) { //Создание музея по супер-пользователю\r\n        let options = getOptions([{name: 'name', value: name},{name: 'img', value: img}, {name: 'description', value: description}], true,  'POST')\r\n        return fetch(baseUrl + `api/s-admin`, options)\r\n    },\r\n    deleteMuseumSuperAdmin(museum_id) { //Удаление админа музея\r\n        let options = getOptions([], true,  'DELETE')\r\n        return fetch(baseUrl + `api/s-admin/${museum_id}`, options)\r\n    },\r\n    deleteMuseum(museum_id) { //Удаление админа музея\r\n        let options = getOptions([{name: 'museum_pk', value: museum_id}], true,  'DELETE')\r\n        return fetch(baseUrl + `api/s-admin`, options)\r\n    },\r\n    createMuseumSuperAdmin(last_name, first_name, middle_name, email, password, museum_id) {\r\n        let options = getOptions([{name: 'last_name', value: last_name},{name: 'first_name', value: first_name}, {name: 'middle_name', value: middle_name},\r\n            {name: 'email', value: email}, {name: 'username', value: email}, {name: 'password', value: password}], true,  'POST')\r\n        return fetch(baseUrl + `api/s-admin/${museum_id}`, options)\r\n    },\r\n}\r\n\r\n//Кассир\r\n\r\nexport const cashierApi = {\r\n    getTickets() { //Получение всех активных билетов\r\n        const accessToken = 'Bearer  ' + localStorage.getItem('accessToken')\r\n        let myHeaders = new Headers();\r\n        myHeaders.append(\"Authorization\", accessToken);\r\n        let requestOptions = {\r\n            method: \"GET\",\r\n            headers: myHeaders,\r\n            redirect: 'follow',\r\n        }\r\n        return fetch(baseUrl + `api/cashier`, requestOptions)\r\n    },\r\n    createTicket() { //Создание билета по кассиру\r\n        let options = getOptions([], true,  'POST')\r\n        return fetch(baseUrl + `api/cashier`, options)\r\n    },\r\n}\r\n\r\n//Покупатель\r\nexport const userApi = {\r\n    getUserArtifactData(token, artifact_id) { //Получение артефакта по id\r\n        let options = getOptions([{name: 'token', value: token}], false,  'POST')\r\n        return fetch(baseUrl + `api/artifacts/${artifact_id}`, options)\r\n    },\r\n}\r\n","import {museumApi} from \"../api/api\";\r\n\r\nconst SET_MUSEUM_DATA = 'SET_MUSEUM_DATA'\r\nconst ADD_ARTIFACT_TO_PRINT = 'ADD_ARTIFACT_TO_PRINT'\r\nconst REMOVE_ALL_ARTIFACTS = 'REMOVE_ALL_ARTIFACTS'\r\nconst DELETE_ARTIFACT = 'DELETE_ARTIFACT'\r\nconst SET_PDF_TO_PRINT = 'SET_PDF_TO_PRINT'\r\nconst SET_LOCATIONS_LIST = 'SET_LOCATIONS_LIST'\r\nconst CLEAR_PDF = 'CLEAR_PDF'\r\n\r\nlet initialState = {\r\n    museumData: {}, //Информация по музею\r\n    locations: [], //Лист локации музея\r\n    print: [], //Артефакты, которые необходимо распечатать\r\n    pdf: '', //Сгенерированный pdf файл с qr-кодами артефактов\r\n    is_museum_super_admin: false, //Является ли пользователь супер-админом музея\r\n    is_museum_super_adminTest: true, //Является ли пользователь супер-админом музея\r\n}\r\n\r\nconst museumReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_MUSEUM_DATA:\r\n            return {\r\n                ...state,\r\n                museumData: action.museum,\r\n                locations: action.locations,\r\n                is_museum_super_admin: action.is_museum_super_admin,\r\n            }\r\n        case ADD_ARTIFACT_TO_PRINT:\r\n            return {\r\n                ...state,\r\n                print: [...state.print, action.artifact]\r\n            }\r\n        case REMOVE_ALL_ARTIFACTS:\r\n            return {\r\n                ...state,\r\n                print: []\r\n            }\r\n        case SET_PDF_TO_PRINT:\r\n            return {\r\n                ...state,\r\n                pdf: action.pdf\r\n            }\r\n        case CLEAR_PDF:\r\n            return {\r\n                ...state,\r\n                pdf: ''\r\n            }\r\n        case SET_LOCATIONS_LIST:\r\n            return {\r\n                ...state,\r\n                locations: action.locations.locations\r\n            }\r\n        case DELETE_ARTIFACT:\r\n            return {\r\n                ...state,\r\n                print: state.print.filter(\r\n                    (p) => {\r\n                        return p.id !== action.id\r\n                    }\r\n                )\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setMuseumData = (museum, locations, is_museum_super_admin) => ({type: SET_MUSEUM_DATA, museum, locations, is_museum_super_admin})\r\nexport const addArtifactToPrint = (artifact) => ({type: ADD_ARTIFACT_TO_PRINT, artifact}) //Добавить артефакт для принта\r\nexport const removeArtifactsToPrint = () => ({type: REMOVE_ALL_ARTIFACTS}) //Удалить все артефакты из принта\r\nexport const deleteOneArtifact = (id) => ({type: DELETE_ARTIFACT, id}) //Удалить только один артефакт\r\nexport const setPdfToPrint = (pdf) => ({type: SET_PDF_TO_PRINT, pdf}) //Установить ссылку на пдф для печати qr-кодов артефактов\r\nexport const setLocations = (locations) => ({type: SET_LOCATIONS_LIST, locations}) //Установить список локаций\r\nexport const clearPdf = () => ({type: CLEAR_PDF}) //Очистить файл pdf\r\n\r\n//Музей\r\nexport const getMuseumData = () => { //Получение информации о музее по пользователю\r\n    return (dispatch) => {\r\n        museumApi.getMuseumData()\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('museumData', result)\r\n                    dispatch(setMuseumData(result.museum, result.locations, result.is_museum_super_admin))\r\n            }))\r\n    }\r\n}\r\nexport const updateMuseumData = (id, name, img, description) => { //Обновлении информации о музее по пользователю\r\n    return (dispatch) => {\r\n        museumApi.updateMuseumData(id, name, img, description)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('updatedMuseumData', result)\r\n                    dispatch(setMuseumData(result.museum, result.locations, result.is_museum_super_admin))\r\n            }))\r\n    }\r\n}\r\n\r\nexport const swapLocations = (swap_type, id) => { //Изменение позиций локации\r\n    return (dispatch) => {\r\n        museumApi.swapLocations(swap_type, id)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('swapLocations', result)\r\n                    dispatch(setMuseumData(result.museum, result.locations, result.is_museum_super_admin))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const printArtifacts = (artifacts, size) => { //Отправить артефакты на печать\r\n    return (dispatch) => {\r\n        let artifacts_ids = artifacts.map(c => {\r\n            return c.id\r\n        })\r\n        museumApi.printArtifactsCards(artifacts_ids, size)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('printArtifactsCards', result)\r\n                    dispatch(setPdfToPrint(result))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const getUsersLocationsList = (token) => { //Получения списка локаций музея по токену пользователя\r\n    return (dispatch) => {\r\n\r\n        museumApi.getUserLocationsList(token)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('getUserLocationsList', result)\r\n                    dispatch(setLocations(result))\r\n                }))\r\n    }\r\n}\r\n\r\nexport default museumReducer\r\n","import {museumApi} from \"../api/api\";\r\nimport {setMuseumData} from \"./museum-reducer\";\r\n\r\nconst SET_LOCATION_DATA = 'SET_LOCATION_DATA'\r\nconst SET_HALLS = 'SET_HALLS'\r\n\r\nlet initialState = {\r\n    locationData: {}, //Информация по локации\r\n    halls: [], //Лист залы локации\r\n}\r\n\r\nconst locationReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_LOCATION_DATA:\r\n            return {\r\n                ...state,\r\n                locationData: action.location,\r\n                halls: action.halls,\r\n            }\r\n        case SET_HALLS:\r\n            return {\r\n                ...state,\r\n                halls: action.halls.halls,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setLocationData = (location, halls) => ({type: SET_LOCATION_DATA, location, halls})\r\nexport const setHalls = (halls) => ({type: SET_HALLS, halls})\r\n\r\n//Локация\r\nexport const getLocationData = (location_id) => { //Получение информации о локации\r\n    return (dispatch) => {\r\n        museumApi.getLocationData(location_id)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('locationData', result)\r\n                    dispatch(setLocationData(result.location, result.halls))\r\n                }))\r\n    }\r\n}\r\nexport const updateLocationData = (id, name, img, description) => { //Обновлении информации о локации по id\r\n    return (dispatch) => {\r\n        museumApi.updateLocationData(id, name, img, description)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('updatedLocationData', result)\r\n                    dispatch(setLocationData(result.location, result.halls))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const createLocation = (name, img, description) => { //Добавление локации в музей по пользователю\r\n    return (dispatch) => {\r\n        museumApi.createLocation(name, img, description)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('createLocation', result)\r\n                    dispatch(setMuseumData(result.museum, result.locations, result.is_museum_super_admin))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const deleteLocation = (id) => { //Удаление локации по id\r\n    return (dispatch) => {\r\n        museumApi.deleteLocation(id)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('deleteLocation', result)\r\n                    dispatch(setMuseumData(result.museum, result.locations, result.is_museum_super_admin))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const swapHalls = (swap_type, id) => { //Изменение позиций залов в локации\r\n    return (dispatch) => {\r\n        museumApi.swapHalls(swap_type, id)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('swapHalls', result)\r\n                    dispatch(setLocationData(result.location, result.halls))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const getUserHallsList = (token, location_id) => {\r\n    return (dispatch) => {\r\n        museumApi.getUserHallsList(token, location_id)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('getUserHallsList', result)\r\n                    dispatch(setHalls(result))\r\n                }))\r\n    }\r\n}\r\n\r\nexport default locationReducer\r\n","import {museumApi} from \"../api/api\";\r\nimport {setLocationData} from \"./location-reducer\";\r\n\r\nconst SET_HALL_DATA = 'SET_HALL_DATA'\r\nconst SET_ARTIFACTS = 'SET_ARTIFACTS'\r\n\r\nlet initialState = {\r\n    hallData: {}, //Информация по залу\r\n    artifacts: [], //Лист артефактов залов\r\n}\r\n\r\nconst hallReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_HALL_DATA:\r\n            return {\r\n                ...state,\r\n                hallData: action.hall,\r\n                artifacts: action.artifacts,\r\n            }\r\n        case SET_ARTIFACTS:\r\n            return {\r\n                ...state,\r\n                artifacts: action.artifacts.artifacts,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setHallData = (hall, artifacts) => ({type: SET_HALL_DATA, hall, artifacts})\r\nexport const setArtifacts = (artifacts) => ({type: SET_ARTIFACTS, artifacts})\r\n\r\n//Зал\r\nexport const getHallData = (location_id, hall_id) => { //Получение информации о зале по id локации и зала\r\n    return (dispatch) => {\r\n        museumApi.getHallData(location_id, hall_id)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('getHallData', result)\r\n                    dispatch(setHallData(result.hall, result.artifacts))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const updateHallData = (location_id, hall_id, name, img, description) => { //Обновлении информации о зале по id локации и зала\r\n    return (dispatch) => {\r\n        museumApi.updateHallData(location_id, hall_id, name, img, description)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('updateHallData', result)\r\n                    dispatch(setHallData(result.hall, result.artifacts))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const createHall = (id, name, img, description) => { //Добавление зала в локацию по id локации\r\n    return (dispatch) => {\r\n        museumApi.createHall(id, name, img, description)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('createHall', result)\r\n                    dispatch(setLocationData(result.location, result.halls))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const deleteHall = (location_id, hall_id) => { //Удаление зала по id локации и зала\r\n    return (dispatch) => {\r\n        museumApi.deleteHall(location_id, hall_id)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('deleteHall', result)\r\n                    dispatch(setLocationData(result.location, result.halls))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const swapArtifacts = (swap_type, id) => { //Изменение позиций артефактов в зале\r\n    return (dispatch) => {\r\n        museumApi.swapArtifacts(swap_type, id)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('swapArtifacts', result)\r\n                    dispatch(setHallData(result.hall, result.artifacts))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const getUserArtifactsList = (token, hall_id) => {\r\n    return (dispatch) => {\r\n        museumApi.getUserArtifactsList(token, hall_id)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('getUserArtifactsList', result)\r\n                    dispatch(setArtifacts(result))\r\n                }))\r\n    }\r\n}\r\n\r\nexport default hallReducer\r\n","import {museumApi} from \"../api/api\";\r\nimport {setHallData} from \"./hall-reducer\";\r\nimport {setHalls} from \"./location-reducer\";\r\n\r\nconst SET_ARTIFACT_DATA = 'SET_ARTIFACT_DATA'\r\n\r\nlet initialState = {\r\n    artifactData: {}, //Информация по артифакту\r\n    artifactQr: \"\",\r\n}\r\n\r\nconst artifactReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_ARTIFACT_DATA:\r\n            return {\r\n                ...state,\r\n                artifactData: action.artifactData,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setArtifactData = (artifactData) => ({type: SET_ARTIFACT_DATA, artifactData})\r\n\r\n//Артефакт\r\nexport const getArtifactData = (location_id, hall_id, artifact_id) => { //Получение информации об артефакте по id локации, зала и артефакта\r\n    return (dispatch) => {\r\n        museumApi.getArtifactData(location_id, hall_id, artifact_id)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('getArtifactData', result)\r\n                    dispatch(setArtifactData(result))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const updateArtifactData = (location_id, hall_id, artifact_id,name, img, description, audio, video) => { //Обновлении информации об артефакте по id локации, зала и артефакта\r\n    return (dispatch) => {\r\n        museumApi.updateArtifactData(location_id, hall_id, artifact_id,name, img, description, audio, video)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('updateArtifactData', result)\r\n                    dispatch(setArtifactData(result))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const createArtifact = (location_id, hall_id, name, img, description, audio, video) => { //Добавление артефакта в зал по id локации и зала\r\n    return (dispatch) => {\r\n        museumApi.createArtifact(location_id, hall_id, name, img, description, audio, video)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('createArtifact', result)\r\n                    dispatch(setHallData(result.hall, result.artifacts))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const deleteArtifact = (location_id, hall_id, artifact_id) => { //Удаление артефакта по id локации, зала и артефакта\r\n    return (dispatch) => {\r\n        museumApi.deleteArtifact(location_id, hall_id, artifact_id)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('deleteArtifact', result)\r\n                    dispatch(setHallData(result.hall, result.artifacts))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const relocateArtifact = (hall_id, artifact_id) => { //Перемещение артефакта в другой зал\r\n    return (dispatch) => {\r\n        museumApi.relocateArtifact(hall_id, artifact_id)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('relocateArtifact', result)\r\n                    dispatch(setHallData(result.hall, result.artifacts))\r\n                }))\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nexport default artifactReducer\r\n","import {userApi} from \"../api/api\";\r\nimport {setArtifactData} from \"./artifact-reducer\";\r\n\r\nconst SET_TOKEN = 'SET_TOKEN'\r\nconst INITIALIZING_TOKEN = 'INITIALIZING_TOKEN'\r\n\r\nlet initialState = {\r\n    token: \"\",\r\n    isTokenSet: false //Инициализация токена\r\n}\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_TOKEN:\r\n            return {\r\n                ...state,\r\n                token: action.token\r\n            }\r\n        case INITIALIZING_TOKEN:\r\n            return {\r\n                ...state,\r\n                isTokenSet: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setToken = (token) => ({type: SET_TOKEN, token})\r\nexport const initializingToken = () => ({type: INITIALIZING_TOKEN})\r\n\r\n//Пользователь\r\nexport const getUserArtifactData = (artifact_id) => { //Получение информации о зале по id локации и зала\r\n    return (dispatch, getState) => {\r\n        const token = getState().user.token\r\n        userApi.getUserArtifactData(token, artifact_id)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('getUserArtifactData', result)\r\n                    dispatch(setArtifactData(result))\r\n                }))\r\n    }\r\n}\r\n\r\nexport default userReducer\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Artifact from \"./Artifact\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {CommonMuseumLogic} from \"../../../hoc/CommonMuseumLogic\";\r\nimport {CommonUpdateLogic} from \"../../../hoc/CommonUpdateLogic\";\r\nimport {deleteArtifact, getArtifactData, updateArtifactData} from \"../../../redux/artifact-reducer\";\r\nimport {getUserArtifactData} from \"../../../redux/user-reducer\";\r\n\r\nclass ArtifactContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isDeleted: false,\r\n        }\r\n        this.updateArtifact = this.updateArtifact.bind(this)\r\n        this.deleteArtifact = this.deleteArtifact.bind(this)\r\n        this.swapArtifacts = this.swapArtifacts.bind(this)\r\n        this.checkAudio = this.checkAudio.bind(this)\r\n    }\r\n\r\n    deleteArtifact() {\r\n        this.props.deleteArtifact(this.props.match.params.location_id, this.props.match.params.hall_id, this.props.match.params.artifact_id)\r\n        this.setState({\r\n            isDeleted: true,\r\n        })\r\n    }\r\n\r\n    checkAudio() {\r\n        let vid = /^(ftp|http|https):\\/\\/[^ \"]+$/\r\n        if(/audio/.test(this.props.audio.type) && (vid.test(this.props.video) || this.props.video === '')) { //Если нет ошибки в формате файла и видео - корректная ссылка или пустая строка\r\n            this.updateArtifact()\r\n        }\r\n        else if(this.props.audio === '') { //Если аудио не заполнено, то присваивается старая ссылка\r\n            this.props.setAudio(this.props.main_audio)\r\n            this.updateArtifact()\r\n        }\r\n        else if(!vid.test(this.props.video)) { //Если аудио не заполнено, то присваивается старая ссылка\r\n            this.props.changeCreate(false)\r\n            this.props.toggleIsChanging(true)\r\n            this.props.setValidation('isVideoUrlWrong', true)\r\n        }\r\n        else { //Если файл загружен, но он не аудио\r\n            this.props.changeCreate(false)\r\n            this.props.toggleIsChanging(true)\r\n            this.props.setValidation('isAudioTypeWrong', true)\r\n        }\r\n    }\r\n\r\n    updateArtifact() {\r\n        this.props.updateArtifactData(this.props.match.params.location_id, this.props.match.params.hall_id, this.props.match.params.artifact_id,this.props.name, this.props.img, this.props.description, this.props.audio, this.props.video)\r\n        this.props.setImage('') //Зануляем картинку\r\n        this.props.setAudio('') //Зануляем аудиофайл\r\n        this.props.changeCreate(false) //Больше не изменяем\r\n    }\r\n\r\n    swapArtifacts(swap_type, location_id) {\r\n        this.props.swapArtifacts(swap_type, location_id)\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(prevProps.artifactData !== this.props.artifactData) {\r\n            this.props.updateState(this.props.match.params.location_id, this.props.artifactData.name, this.props.artifactData.description, this.props.artifactData.img, this.props.artifactData.audio, this.props.artifactData.video)\r\n        }\r\n        if(prevProps.isRight !== this.props.isRight && !prevProps.isRight) {\r\n            this.checkAudio()\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        //Данные об экспонате\r\n        if(this.props.isUserMuseumAdmin) {\r\n            this.props.getArtifactData(this.props.match.params.location_id, this.props.match.params.hall_id, this.props.match.params.artifact_id)\r\n        }\r\n        else {\r\n            this.props.getUserArtifactData(this.props.match.params.artifact_id)\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        if(this.state.isDeleted) {\r\n            return <Redirect to={`/m-admin/${this.props.match.params.location_id}/${this.props.match.params.hall_id}`} />\r\n        }\r\n\r\n        if((this.props.match.url.includes('/m-admin')) && (!this.props.isUserMuseumAdmin)) {\r\n            return <Redirect to={'/'} />\r\n        }\r\n\r\n        return (\r\n            <Artifact {...this.props}\r\n                      deleteArtifact={this.deleteArtifact}\r\n                      swapArtifacts={this.swapArtifacts}\r\n            />\r\n        );\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        artifactData: state.artifact.artifactData,\r\n        isUserMuseumAdmin: state.auth.isUserMuseumAdmin,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getArtifactData, updateArtifactData, deleteArtifact, getUserArtifactData}),\r\n    withRouter,\r\n    CommonMuseumLogic,\r\n    CommonUpdateLogic,\r\n)(ArtifactContainer)\r\n\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport './PreloaderLogo.css'\r\nimport mirea from './../../assets/images/MIREA_Gerb_Colour.png'\r\n\r\nclass PreloaderLogo extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            class: \"transition\",\r\n        }\r\n        this.changeClass = this.changeClass.bind(this)\r\n    }\r\n\r\n    changeClass() {\r\n        setTimeout(() =>\r\n        {\r\n            this.setState({\r\n\r\n                class: 'trans'\r\n            })\r\n        }, 400)\r\n\r\n        setTimeout(() =>\r\n        {\r\n            this.setState({\r\n                class: 'display'\r\n            })\r\n        }, 1400)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.changeClass()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <div className={`${this.state.class}`}>\r\n                    <img className={'img'} src={mirea} alt=\"mirea logo preloader\"/>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{})(PreloaderLogo);\r\n","export default __webpack_public_path__ + \"static/media/up.bf140a6b.svg\";","export default __webpack_public_path__ + \"static/media/down.f8aacb9b.svg\";","import React from 'react';\r\nimport s from './MuseumItemsList.module.css'\r\nimport up from './../../assets/images/up.svg'\r\nimport down from './../../assets/images/down.svg'\r\n\r\nconst MuseumItemsList = (props) => {\r\n    return (\r\n        <div className={s.location}>\r\n            <div>\r\n                <div className={s.title}>\r\n                    {props.name}\r\n                </div>\r\n                <img className={s.img} src={props.img} alt=\"location\"/>\r\n                <div className={s.descriptionContainer}>\r\n                    <div className={s.descriptionTitle}>\r\n                        Описание:\r\n                    </div>\r\n                    <div className={s.description}>\r\n                        {props.description}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={s.buttons}>\r\n                {\r\n                    (props.prev !== null && props.isUserMuseumAdmin) &&\r\n                    <button className={`${s.moveBtn} ${s.up}`} onClick={() => props.swapLocations('up', props.id)}>\r\n                        <img src={up} alt=\"up\"/>\r\n                    </button>\r\n                }\r\n                {\r\n                    (props.id !== props.last && props.isUserMuseumAdmin) &&\r\n                    <button className={`${s.moveBtn} ${s.down}`} onClick={() => props.swapLocations('down', props.id)}>\r\n                        <img src={down} alt=\"down\"/>\r\n                    </button>\r\n                }\r\n            </div>\r\n\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default MuseumItemsList;\r\n","import React from 'react';\r\nimport s from './MuseumInformation.module.css'\r\n\r\nconst MuseumInformation = (props) => {\r\n    return (\r\n        <>\r\n            <h2 className={s.name}>{props.name}</h2>\r\n            <div className={s.imgContainer}>\r\n                <img className={s.img} src={props.main_img} alt=\"section\"/>\r\n            </div>\r\n            <div className={s.descriptionTitle}>\r\n                Описание:\r\n            </div>\r\n            <div className={s.description}>\r\n                {props.description}\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default MuseumInformation;\r\n","import React from 'react';\r\nimport s from './Museum.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport ChangeForm from \"../../../Common/ChangeForm/ChangeForm\";\r\nimport MuseumItemsList from \"../../../Common/MuseumItemsList/MuseumItemsList\";\r\nimport MuseumInformation from \"../../../Common/MuseumInformation/MuseumInformation\";\r\nimport prev from \"../../../assets/images/left-chevron.svg\";\r\n\r\nconst Museum = (props) => {\r\n    let locations = props.locations\r\n    return (\r\n        <div className={s.museum}>\r\n            <button onClick={() => props.history.goBack()} className={'backBtn'}>\r\n                <img src={prev} alt=\"back\"/>\r\n            </button>\r\n            { props.isUserMuseumAdmin &&(\r\n                !props.isChanging ?\r\n                    <>\r\n                        <button className={s.change} onClick={() => props.toggleIsChanging(true)}>Изменить данные музея</button>\r\n                        <MuseumInformation name={props.name} description={props.description} main_img={props.main_img} />\r\n                    </>\r\n                    :\r\n                    <>\r\n                        <ChangeForm text={'Изменение данных музея'} {...props} />\r\n                    </>)\r\n            }\r\n\r\n            <div className={s.createContainer}>\r\n                {\r\n                    props.isUserMuseumAdmin &&\r\n                    <NavLink className={'create'} to={'/m-admin/create_location'}>\r\n                        Создать локацию\r\n                    </NavLink>\r\n                }\r\n                {\r\n                    props.isUserMuseumSuperAdmin &&\r\n                    <NavLink className={'create'} to={'/m-admin/hr-management'}>\r\n                        Персонал\r\n                    </NavLink>\r\n                }\r\n            </div>\r\n\r\n            <h3 className={s.itemsTitle}>\r\n                Список локаций музея\r\n            </h3>\r\n\r\n            {\r\n                locations &&\r\n                locations.map(l => {\r\n                    let last =locations[locations.length - 1].id\r\n                    return (\r\n                        <div className={s.locationContainer} key={l.id}>\r\n                            <MuseumItemsList isUserMuseumAdmin={props.isUserMuseumAdmin} prev={l.prev} id={l.id} last={last} img={l.img} name={l.name} description={l.description} swapLocations={props.swapLocations} />\r\n                            {\r\n                                props.isUserMuseumAdmin\r\n                                ? <NavLink className={s.goInside} to={`/m-admin/${l.id}`}>Перейти к локации</NavLink>\r\n                                : <NavLink className={s.goInside} to={`/locations/${l.id}/halls`}>Перейти к локации</NavLink>\r\n                            }\r\n                            {\r\n                                props.isRelocate &&\r\n                                    <div>\r\n                                        <button className={s.relocateBtn} onClick={() => props.selectLocation(l.id)}>Выбрать локацию для перемещения</button>\r\n                                    </div>\r\n                            }\r\n\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Museum;\r\n","import React from 'react';\r\nimport s from './CreateWorkerInputs.module.css'\r\nimport Input from \"../Input/Input\";\r\nimport prev from \"../../assets/images/left-chevron.svg\";\r\n\r\nconst CreateWorkerInputs = (props) => {\r\n    return (\r\n        <div className={s.container}>\r\n            <button onClick={() => props.history.goBack()} className={'backBtn'}>\r\n                <img src={prev} alt=\"back\"/>\r\n            </button>\r\n            <h1 className={s.title}>Создание пользователя музея</h1>\r\n            <Input text={'Фамилия'} type={'text'} name={'last_name'} handleFocus={props.handleChangeInputs} handleFindKey={props.handleFindKey} handleChange={props.handleChange} value={props.last_name} />\r\n            <Input text={'Имя'} type={'text'} name={'first_name'} handleFocus={props.handleChangeInputs} handleFindKey={props.handleFindKey} handleChange={props.handleChange} value={props.first_name} />\r\n            <Input text={'Отчество'} type={'text'} name={'middle_name'} handleFocus={props.handleChangeInputs} handleFindKey={props.handleFindKey} handleChange={props.handleChange} value={props.middle_name} />\r\n            <Input text={'Email'} type={'text'} name={'email'} handleFocus={props.handleChangeInputs} handleFindKey={props.handleFindKey} handleChange={props.handleChange} value={props.email} />\r\n            <Input text={'Пароль'} type={'password'} name={'password'} handleFocus={props.handleChangeInputs} handleFindKey={props.handleFindKey} handleChange={props.handleChange} value={props.password} />\r\n            <Input text={'Повторите пароль'} type={'password'} name={'confirm_password'} handleFocus={props.handleChangeInputs} handleFindKey={props.handleFindKey} handleChange={props.handleChange} value={props.confirm_password} />\r\n\r\n            {\r\n                !props.isUserServiceAdmin &&\r\n                    <div>\r\n                        <div className={s.role}>\r\n                            Роль работника\r\n                        </div>\r\n                        <div className={s.InputContainer}><input name={'role'} type=\"radio\" checked={props.role === 'museum_admins'} value='museum_admins' onChange={props.handleChangeRadio}/>Администратор музея</div>\r\n                        <div className={s.InputContainer}><input name={'role'} type=\"radio\" checked={props.role === 'museum_cashiers'} value='museum_cashiers' onChange={props.handleChangeRadio}/>Кассир</div>\r\n                    </div>\r\n            }\r\n\r\n            {\r\n                props.isEmptyInputs &&\r\n                <div className={'form__wrong'}>\r\n                    Заполните все поля, кроме отчества\r\n                </div>\r\n            }\r\n            {\r\n                !props.isPasswordMatch &&\r\n                <div className={'form__wrong'}>\r\n                    Пароли не совпадают\r\n                </div>\r\n            }\r\n            {\r\n                props.isEmailWrong &&\r\n                <div className={'form__wrong'}>\r\n                    Пожалуйста, введите корректный email\r\n                </div>          }\r\n\r\n            <button className={'submit'} onClick={props.handleSubmit}>Создать</button>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CreateWorkerInputs;\r\n","import React from 'react';\r\nimport s from './MuseumAdmin.module.css'\r\nimport CreateWorkerInputs from \"../../../../Common/CreateWorkerInputs/CreateWorkerInputs\";\r\nimport prev from \"../../../../assets/images/left-chevron.svg\";\r\n\r\nconst MuseumAdmin = ({museumAdminData, ...props}) => {\r\n    let admin = museumAdminData.museum_super_admin\r\n    return (\r\n        <>\r\n            <button onClick={() => props.history.goBack()} className={'backBtn'}>\r\n                <img src={prev} alt=\"back\"/>\r\n            </button>\r\n            {\r\n                museumAdminData.status\r\n                    &&\r\n                        <div className={s.container}>\r\n                            <h2 className={s.title}>Главный администратор</h2>\r\n                            <div className={s.name}>\r\n                                Имя: {admin.last_name}\r\n                            </div>\r\n                            <div className={s.name}>\r\n                                Фамилия: {admin.first_name}\r\n                            </div>\r\n                            <div className={s.name}>\r\n                                Отчество: {admin.middle_name}\r\n                            </div>\r\n                            <button className={'submit'} onClick={() => props.deleteMuseumSuperAdmin(props.museum_id)}>\r\n                                Удалить администратора\r\n                            </button>\r\n                        </div>\r\n            }\r\n            {\r\n                (!museumAdminData.status && props.isChanging)\r\n                    &&\r\n                        <CreateWorkerInputs {...props} isUserServiceAdmin={true} />\r\n            }\r\n            {\r\n                (!museumAdminData.status && !props.isChanging)\r\n                    &&\r\n                    <button onClick={props.toggleIsChanging}>\r\n                        Создать администратора\r\n                    </button>\r\n            }\r\n            <button className={'submit'} onClick={() => props.deleteMuseum(props.museum_id)}>\r\n                Удалить музей\r\n            </button>\r\n        </>\r\n\r\n    );\r\n}\r\n\r\nexport default MuseumAdmin;\r\n","import {serviceAdminApi} from \"../api/api\";\r\n\r\nconst SET_MUSEUMS = 'SET_MUSEUMS'\r\nconst SET_MUSEUM_ADMIN_DATA = 'SET_MUSEUM_ADMIN_DATA'\r\n\r\nlet initialState = {\r\n    museums: [], //Все музеи\r\n    museumAdminData: {}, //Информация об супер-администраторе музея\r\n}\r\n\r\nconst serviceAdminReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_MUSEUMS:\r\n            return {\r\n                ...state,\r\n                museums: action.museums\r\n            }\r\n        case SET_MUSEUM_ADMIN_DATA:\r\n            return {\r\n                ...state,\r\n                museumAdminData: action.museumAdminData\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setMuseums = (museums) => ({type: SET_MUSEUMS, museums})\r\nexport const setMuseumAdminData = (museumAdminData) => ({type: SET_MUSEUM_ADMIN_DATA, museumAdminData})\r\n\r\nexport const getMuseums = () => { //Получение списка музеев\r\n    return (dispatch) => {\r\n        serviceAdminApi.getMuseums()\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('getServiceAdminData', result)\r\n                    dispatch(setMuseums(result))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const createMuseum = (name, img, description) => { //Создание музея\r\n    return (dispatch) => {\r\n        serviceAdminApi.createMuseum(name, img, description)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('createMuseum', result)\r\n                    dispatch(setMuseums(result))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const deleteMuseum = (museum_id) => { //Удаление музея\r\n    return (dispatch) => {\r\n        serviceAdminApi.deleteMuseum(museum_id)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('deleteMuseum', result)\r\n                    dispatch(setMuseums(result))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const getMuseumSuperAdmin = (museum_id) => { //Получение супер-админа музея по id музея\r\n    return (dispatch) => {\r\n        serviceAdminApi.getMuseumAdminData(museum_id)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('getMuseumAdminData', result)\r\n                    dispatch(setMuseumAdminData(result))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const deleteMuseumSuperAdmin = (museum_id) => { //Удаление супер-админа музея по id музея\r\n    return (dispatch) => {\r\n        serviceAdminApi.deleteMuseumSuperAdmin(museum_id)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('deleteMuseumSuperAdmin', result)\r\n                    dispatch(setMuseumAdminData(result))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const createMuseumSuperAdmin = (last_name, first_name, middle_name, email, password, museum_id) => { //Создание супер-админа музея по id музея\r\n    return (dispatch) => {\r\n        serviceAdminApi.createMuseumSuperAdmin(last_name, first_name, middle_name, email, password, museum_id)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('createMuseumSuperAdmin', result)\r\n                    dispatch(setMuseumAdminData(result))\r\n                }))\r\n    }\r\n}\r\n\r\nexport default serviceAdminReducer\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isUserServiceAdmin: state.service.isUserServiceAdmin,\r\n    };\r\n}\r\n\r\nexport const CommonCreateWorkerLogic = (Component) => {\r\n\r\n    class CommonCreateWorkerLogic extends React.Component {\r\n\r\n        constructor(props) {\r\n            super(props);\r\n\r\n            this.state = {\r\n                last_name: \"\",\r\n                first_name: \"\",\r\n                middle_name: \"\",\r\n                email: \"\",\r\n                password: \"\",\r\n                confirm_password: \"\",\r\n                role: \"museum_admins\",\r\n\r\n                isEmptyInputs: false, //Все ли поля пустые\r\n                isEmailWrong: false, //Если почтовый адрес направильный\r\n                isPasswordMatch: true, //Если пароли совпадают\r\n                isCreate: false, //Если успешно создано\r\n                isRight: false, //Если все поля успешно заполнены\r\n            }\r\n\r\n            this.handleFindKey = this.handleFindKey.bind(this)\r\n            this.handleSubmit = this.handleSubmit.bind(this)\r\n            this.handleChangeInputs = this.handleChangeInputs.bind(this)\r\n            this.handleChange = this.handleChange.bind(this)\r\n            this.handleChangeRadio = this.handleChangeRadio.bind(this)\r\n        }\r\n\r\n        handleChange(e) {\r\n            let name = e.target.name\r\n            let value = e.target.value\r\n\r\n            this.setState({\r\n                [name]: value,\r\n            })\r\n        }\r\n\r\n        handleChangeRadio(e) {\r\n            let value = e.target.value\r\n\r\n            this.setState({\r\n                'role': value,\r\n            })\r\n        }\r\n\r\n        handleFindKey(e) {\r\n            if (e.keyCode === 13) { // Логин с нажатием enter\r\n                this.handleSubmit()\r\n            }\r\n        }\r\n\r\n        handleSubmit() {\r\n            let mail = /^[\\w-\\d*]+@[\\w\\d]+(\\.\\w{2,4})$/\r\n            if (this.state.first_name === '' || this.state.last_name === '' || this.state.email === '' || this.state.password === '') {\r\n                this.setState({\r\n                    isEmptyInputs: true\r\n                })\r\n            } else if (this.state.password !== this.state.confirm_password) {\r\n                this.setState({\r\n                    isPasswordMatch: false,\r\n                })\r\n            } else if (!mail.test(this.state.email)) {\r\n                this.setState({\r\n                    isEmailWrong: true,\r\n                })\r\n            } else {\r\n                this.setState({\r\n                    isCreate: true,\r\n                    isRight: true,\r\n                })\r\n            }\r\n        }\r\n\r\n        handleChangeInputs() {\r\n            this.setState({\r\n                isEmptyInputs: false,\r\n                isEmailWrong: false,\r\n                isPasswordMatch: true,\r\n            })\r\n        }\r\n\r\n        render() {\r\n\r\n            return (\r\n                <Component {...this.props}\r\n                           isCreate={this.state.isCreate}\r\n                           isRight={this.state.isRight}\r\n                           isEmptyInputs={this.state.isEmptyInputs}\r\n                           isEmailWrong={this.state.isEmailWrong}\r\n                           isPasswordMatch={this.state.isPasswordMatch}\r\n                           last_name={this.state.last_name}\r\n                           middle_name={this.state.middle_name}\r\n                           first_name={this.state.first_name}\r\n                           email={this.state.email}\r\n                           password={this.state.password}\r\n                           role={this.state.role}\r\n                           handleSubmit={this.handleSubmit}\r\n                           handleChange={this.handleChange}\r\n                           handleChangeInputs={this.handleChangeInputs}\r\n                           handleFindKey={this.handleFindKey}\r\n                           handleChangeRadio={this.handleChangeRadio}\r\n                />\r\n            );\r\n        }\r\n\r\n    }\r\n\r\n    let ConnectedCommonCreateWorkerComponent = connect(mapStateToPropsForRedirect)(CommonCreateWorkerLogic);\r\n\r\n    return ConnectedCommonCreateWorkerComponent;\r\n}\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport MuseumAdmin from \"./MuseumAdmin\";\r\nimport {compose} from \"redux\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {\r\n    createMuseumSuperAdmin, deleteMuseum,\r\n    deleteMuseumSuperAdmin,\r\n    getMuseumSuperAdmin\r\n} from \"../../../../redux/serviceAdmin-reducer\";\r\nimport {CommonCreateWorkerLogic} from \"../../../../hoc/CommonCreateWorkerLogic\";\r\n\r\nclass MuseumAdminContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isChanging: false, //Идет ли изменение\r\n            isDeleted: false, //Удален ли музей\r\n        }\r\n        this.deleteMuseum = this.deleteMuseum.bind(this)\r\n        this.toggleIsChanging = this.toggleIsChanging.bind(this)\r\n    }\r\n\r\n    deleteMuseum() {\r\n        this.props.deleteMuseum(this.props.museum_id)\r\n        this.setState({\r\n            isDeleted: true,\r\n        })\r\n    }\r\n\r\n    toggleIsChanging() {\r\n        this.setState({\r\n            isChanging: !this.state.isChanging,\r\n        })\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(prevProps.isRight !== this.props.isRight) {\r\n            this.props.createMuseumSuperAdmin(\r\n                this.props.last_name,\r\n                this.props.first_name,\r\n                this.props.middle_name,\r\n                this.props.email,\r\n                this.props.password,\r\n                this.props.museum_id,\r\n            )\r\n            this.toggleIsChanging()\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.getMuseumSuperAdmin(this.props.museum_id)\r\n    }\r\n\r\n    render() {\r\n\r\n        if(this.state.isDeleted) {\r\n            return <Redirect to={'/s-admin'} />\r\n        }\r\n\r\n        return (\r\n            <MuseumAdmin {...this.props}\r\n                         deleteMuseum={this.deleteMuseum}\r\n                         isChanging={this.state.isChanging}\r\n                         toggleIsChanging={this.toggleIsChanging} />\r\n        );\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        museumAdminData: state.service.museumAdminData,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getMuseumSuperAdmin, createMuseumSuperAdmin, deleteMuseumSuperAdmin, deleteMuseum}),\r\n    withRouter,\r\n    CommonCreateWorkerLogic,\r\n)(MuseumAdminContainer)\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Museum from \"./Museum\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {CommonMuseumLogic} from \"../../../hoc/CommonMuseumLogic\";\r\nimport {CommonUpdateLogic} from \"../../../hoc/CommonUpdateLogic\";\r\nimport {compose} from \"redux\";\r\nimport {getMuseumData, getUsersLocationsList, swapLocations, updateMuseumData} from \"../../../redux/museum-reducer\";\r\nimport MuseumAdminContainer from \"./MuseumAdmin/MuseumAdminContainer\";\r\n\r\nclass MuseumContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.swapLocations = this.swapLocations.bind(this)\r\n        this.updateMuseum = this.updateMuseum.bind(this)\r\n    }\r\n\r\n    updateMuseum() {\r\n        this.props.updateMuseumData(this.props.id, this.props.name, this.props.img, this.props.description)\r\n        this.props.setImage('')\r\n        this.props.changeCreate(false) //Больше не изменяем\r\n    }\r\n\r\n    swapLocations(swap_type, location_id) {\r\n        this.props.swapLocations(swap_type, location_id)\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(prevProps.museumData !== this.props.museumData) {\r\n            this.props.updateState(this.props.museumData.id, this.props.museumData.name, this.props.museumData.description, this.props.museumData.img, '', '')\r\n        }\r\n        if(prevProps.isRight !== this.props.isRight && !prevProps.isRight) {\r\n            this.updateMuseum()\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.props.isUserMuseumAdmin) {\r\n            this.props.getMuseumData()\r\n        }\r\n        else {\r\n            let token = localStorage.getItem('token')\r\n            this.props.getUsersLocationsList(token)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        //Если пользователь перешел по адресу, не являясь администратором музея\r\n        if((this.props.match.url.includes('/m-admin')) && (!this.props.isUserMuseumAdmin)) {\r\n            return <Redirect to={'/'} />\r\n        }\r\n        //Если пользователь перешел по адресу, не являясь сервисным администратором\r\n        if((this.props.match.url.includes('/s-admin')) && (!this.props.isUserServiceAdmin)) {\r\n            return <Redirect to={'/'} />\r\n        }\r\n\r\n        // Если пользователь сервисный администратор\r\n\r\n        if(this.props.isUserServiceAdmin) {\r\n            return (\r\n                <MuseumAdminContainer museum_id={this.props.match.params.museum_id} />\r\n            )\r\n        }\r\n\r\n        return (\r\n            <Museum {...this.props}\r\n                    swapLocations={this.swapLocations}\r\n\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        museumData: state.museum.museumData,\r\n        locations: state.museum.locations,\r\n        isUserServiceAdmin: state.auth.isUserServiceAdmin,\r\n        isUserMuseumAdmin: state.auth.isUserMuseumAdmin,\r\n        isUserMuseumSuperAdmin: state.auth.isUserMuseumSuperAdmin,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getMuseumData, updateMuseumData, swapLocations, getUsersLocationsList}),\r\n    withRouter,\r\n    CommonMuseumLogic,\r\n    CommonUpdateLogic,\r\n)(MuseumContainer)\r\n","import React from 'react';\r\nimport s from './Location.module.css'\r\nimport ChangeForm from \"../../../Common/ChangeForm/ChangeForm\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport MuseumItemsList from \"../../../Common/MuseumItemsList/MuseumItemsList\";\r\nimport MuseumInformation from \"../../../Common/MuseumInformation/MuseumInformation\";\r\nimport prev from \"../../../assets/images/left-chevron.svg\";\r\n\r\nconst Location = (props) => {\r\n    let halls = props.halls\r\n    return (\r\n        <div className={s.museum}>\r\n            <button onClick={() => props.history.goBack()} className={'backBtn'}>\r\n                <img src={prev} alt=\"back\"/>\r\n            </button>\r\n            {\r\n                props.isUserMuseumAdmin && <NavLink className={'create'} to={'/m-admin/print'}>Артефакты для печати</NavLink>\r\n            }\r\n            {\r\n                props.isUserMuseumAdmin &&(\r\n                !props.isChanging ?\r\n                    <>\r\n                        <button className={s.change} onClick={() => props.toggleIsChanging(true)}>Изменить или удалить</button>\r\n\r\n                        <MuseumInformation name={props.name} description={props.description} main_img={props.main_img} />\r\n                    </>\r\n                    :\r\n                        <ChangeForm text={'Изменение данных локации'} {...props}\r\n                    />)\r\n            }\r\n            {\r\n                props.isChanging &&\r\n                <button className={s.deleteBtn} onClick={props.deleteLocation}>Удалить локацию</button>\r\n            }\r\n\r\n            {\r\n                props.isUserMuseumAdmin &&\r\n                <NavLink className={'create'} to={`/m-admin/${props.location_id}/create_halls`}>\r\n                    Создать зал\r\n                </NavLink>\r\n            }\r\n            <h3 className={s.itemsTitle}>\r\n                Список залов локации\r\n            </h3>\r\n            {\r\n                halls &&\r\n                halls.map(l => {\r\n                    let last = halls[halls.length - 1].id\r\n                    return (\r\n                        <div className={s.locationContainer} key={l.id}>\r\n                            <MuseumItemsList isUserMuseumAdmin={props.isUserMuseumAdmin} prev={l.prev} id={l.id} last={last} img={l.img} name={l.name} description={l.description} locations={props.halls} swapLocations={props.swapHalls} />\r\n\r\n                            {\r\n                                props.isUserMuseumAdmin\r\n                                    ? <NavLink className={s.goInside} to={`/m-admin/${props.location_id}/${l.id}`}>Перейти к залу</NavLink>\r\n                                    : <NavLink className={s.goInside} to={`/halls/${l.id}/artifacts`}>Перейти к залу</NavLink>\r\n                            }\r\n                            {\r\n                                props.isRelocate &&\r\n                                <div>\r\n                                    <button className={s.relocateBtn} onClick={() => props.selectHall(l.id)}>Выбрать зал для перемещения артефакта</button>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Location;\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport Location from \"./Location\";\r\nimport {compose} from \"redux\";\r\nimport {CommonMuseumLogic} from \"../../../hoc/CommonMuseumLogic\";\r\nimport {CommonUpdateLogic} from \"../../../hoc/CommonUpdateLogic\";\r\nimport {\r\n    deleteLocation,\r\n    getLocationData,\r\n    getUserHallsList,\r\n    swapHalls,\r\n    updateLocationData\r\n} from \"../../../redux/location-reducer\";\r\n\r\nclass LocationContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isDeleted: false,\r\n        }\r\n        this.updateLocation = this.updateLocation.bind(this)\r\n        this.deleteLocation = this.deleteLocation.bind(this)\r\n        this.swapHalls = this.swapHalls.bind(this)\r\n    }\r\n\r\n    deleteLocation() {\r\n        this.props.deleteLocation(this.props.match.params.location_id)\r\n        this.setState({\r\n            isDeleted: true,\r\n        })\r\n    }\r\n\r\n    updateLocation() {\r\n        this.props.updateLocationData(this.props.match.params.location_id, this.props.name, this.props.img, this.props.description)\r\n        this.props.setImage('')\r\n        this.props.changeCreate(false)\r\n    }\r\n\r\n    swapHalls(swap_type, location_id) {\r\n        this.props.swapHalls(swap_type, location_id)\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(prevProps.locationData !== this.props.locationData) {\r\n            this.props.updateState(this.props.match.params.location_id, this.props.locationData.name, this.props.locationData.description, this.props.locationData.img, '', '')\r\n        }\r\n        if(prevProps.isRight !== this.props.isRight && !prevProps.isRight){\r\n            this.updateLocation()\r\n\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.props.isUserMuseumAdmin) { //Если пользватель - администратор\r\n            this.props.getLocationData(this.props.match.params.location_id)\r\n        }\r\n        else {\r\n            let token = localStorage.getItem('token') //Если у пользователя билет с токеном\r\n            this.props.getUserHallsList(token, this.props.match.params.location_id)\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        if(this.state.isDeleted) {\r\n            return <Redirect to={'/m-admin'} />\r\n        }\r\n        if((this.props.match.url.includes('/m-admin')) && (!this.props.isUserMuseumAdmin)) {\r\n            return <Redirect to={'/'} />\r\n        }\r\n\r\n        return (\r\n            <Location {...this.props}\r\n                      deleteLocation={this.deleteLocation}\r\n                      swapHalls={this.swapHalls}\r\n                      location_id={this.props.match.params.location_id}\r\n            />\r\n\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        locationData: state.location.locationData,\r\n        isUserMuseumAdmin: state.auth.isUserMuseumAdmin,\r\n        halls: state.location.halls,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getLocationData, updateLocationData, deleteLocation, swapHalls, getUserHallsList}),\r\n    withRouter,\r\n    CommonMuseumLogic,\r\n    CommonUpdateLogic,\r\n)(LocationContainer)\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n\r\n    };\r\n}\r\n\r\nexport const CommonCreateLogic = (Component) => {\r\n\r\n    class CommonCreateLogic extends React.Component {\r\n\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                isRight: false, //Если проверка прошла успешно\r\n                isCreate: false, //Успешно ли создание\r\n            }\r\n            this.handleSubmit = this.handleSubmit.bind(this)\r\n            this.changeCreate = this.changeCreate.bind(this)\r\n        }\r\n\r\n        handleSubmit() {\r\n            if(this.props.description === '' || this.props.name === '') {\r\n                this.props.setValidation('isEmptyInputs', true) //Ошибка в пустых полях\r\n            }\r\n            else if(/image/.test(this.props.img.type)) { //Если нет ошибки в формате файла\r\n                this.changeCreate(true)\r\n            }\r\n            else if(this.props.img === '') {\r\n                this.props.setValidation('isPhotoTypeWrong', true) //Ошибка в формате файла картинки\r\n                this.changeCreate(false)\r\n            }\r\n            else {\r\n                this.props.setValidation('isPhotoTypeWrong', true)\r\n                this.changeCreate(false)\r\n            }\r\n        }\r\n\r\n        changeCreate(isCreate) {\r\n            this.setState({\r\n                isCreate: isCreate,\r\n                isRight: isCreate,\r\n            })\r\n        }\r\n\r\n        render() {\r\n            return (\r\n                <Component {...this.props}\r\n                           isCreate={this.state.isCreate}\r\n                           isRight={this.state.isRight}\r\n                           handleSubmit={this.handleSubmit}\r\n                           changeCreate={this.changeCreate}\r\n                />\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    let ConnectedCommonCreateComponent = connect(mapStateToPropsForRedirect)(CommonCreateLogic);\r\n\r\n    return ConnectedCommonCreateComponent;\r\n}\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isUserMuseumAdmin: state.auth.isUserMuseumAdmin,\r\n    };\r\n}\r\n\r\nexport const WithAdminRedirect = (Component) => {\r\n\r\n    class WithAdminRedirect extends React.Component {\r\n\r\n        render() {\r\n            if (!this.props.isUserMuseumAdmin) return <Redirect to='/' />\r\n            return (\r\n                <Component {...this.props}\r\n\r\n                />\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    let ConnectedAdminRedirectComponent = connect(mapStateToPropsForRedirect)(WithAdminRedirect);\r\n\r\n    return ConnectedAdminRedirectComponent;\r\n}\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport ChangeForm from \"../../../Common/ChangeForm/ChangeForm\";\r\nimport {CommonMuseumLogic} from \"../../../hoc/CommonMuseumLogic\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {CommonCreateLogic} from \"../../../hoc/CommonCreateLogic\";\r\nimport {createLocation} from \"../../../redux/location-reducer\";\r\nimport {WithAdminRedirect} from \"../../../hoc/Redirect/WithAdminRedirect\";\r\n\r\nclass CreateLocation extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.createLocation = this.createLocation.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(prevProps.isRight !== this.props.isRight) {\r\n            this.createLocation()\r\n        }\r\n    }\r\n\r\n    createLocation() {\r\n        this.props.createLocation(this.props.name, this.props.img, this.props.description)\r\n    }\r\n\r\n    render() {\r\n        if(this.props.isCreate) {\r\n            return <Redirect to={'/m-admin'} />\r\n        }\r\n\r\n        return (\r\n            <ChangeForm text={'Создание локации'} {...this.props}\r\n            />\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {createLocation}),\r\n    withRouter,\r\n    CommonMuseumLogic,\r\n    CommonCreateLogic,\r\n    WithAdminRedirect,\r\n)(CreateLocation)\r\n\r\n//Оборачиваем компонент в компонент с общими полями, а так же в компонент с общей логикой создания\r\n","import React from 'react';\r\nimport s from './Hall.module.css'\r\nimport ChangeForm from \"../../../Common/ChangeForm/ChangeForm\";\r\nimport MuseumItemsList from \"../../../Common/MuseumItemsList/MuseumItemsList\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport MuseumInformation from \"../../../Common/MuseumInformation/MuseumInformation\";\r\nimport prev from \"../../../assets/images/left-chevron.svg\";\r\n\r\nconst Hall = (props) => {\r\n    let artifacts = props.artifacts\r\n    return (\r\n        <div className={s.museum}>\r\n            <button onClick={() => props.history.goBack()} className={'backBtn'}>\r\n                <img src={prev} alt=\"back\"/>\r\n            </button>\r\n            {\r\n                props.isUserMuseumAdmin && <NavLink className={'create'} to={'/m-admin/print'}>Артефакты для печати</NavLink>\r\n            }\r\n            {\r\n                props.isUserMuseumAdmin &&(\r\n                !props.isChanging ?\r\n                    <>\r\n                        <button className={s.change} onClick={() => props.toggleIsChanging(true)}>Изменить или удалить</button>\r\n                        <MuseumInformation name={props.name} description={props.description} main_img={props.main_img} />\r\n                    </>\r\n                    :\r\n                        <ChangeForm text={'Изменение зала'} {...props} />)\r\n            }\r\n            {\r\n                props.isChanging &&\r\n                <button className={s.deleteBtn} onClick={props.deleteHall}>Удалить зал</button>\r\n            }\r\n            {\r\n                props.isUserMuseumAdmin &&\r\n                <NavLink className={'create'} to={`/m-admin/${props.location_id}/${props.hall_id}/create_artifacts`}>\r\n                    Создать артефакт\r\n                </NavLink>\r\n            }\r\n            <h3 className={s.itemsTitle}>\r\n                Список артефактов зала\r\n            </h3>\r\n            {\r\n                artifacts &&\r\n                artifacts.map(l => {\r\n                    let last = artifacts[artifacts.length - 1].id\r\n                    return (\r\n                        <div className={s.locationContainer} key={l.id}>\r\n                            <MuseumItemsList isUserMuseumAdmin={props.isUserMuseumAdmin} prev={l.prev} id={l.id} last={last} img={l.img} name={l.name} description={l.description} locations={props.halls} swapLocations={props.swapArtifacts} />\r\n                            {\r\n                                props.isUserMuseumAdmin\r\n                                    ? <NavLink className={s.goInside} to={`/m-admin/${props.location_id}/${props.hall_id}/${l.id}`}>Перейти</NavLink>\r\n                                    : <NavLink className={s.goInside} to={`/artifacts/${l.id}`}>Перейти к артефакту</NavLink>\r\n                            }\r\n                            { //Находится ли данный товар в корзине\r\n                                props.isUserMuseumAdmin && (\r\n                                props.print.some(item => item.id === l.id) ?\r\n                                    <button className={s.inCart} onClick={() => props.deleteOneArtifact(l.id)}>\r\n                                        Удалить из печати\r\n                                    </button>\r\n\r\n                                    :   <button className={s.inCart} onClick={() => props.addArtifactToPrint(l)}\r\n                                    >\r\n                                        Добавить к печати\r\n                                    </button>)\r\n                            }\r\n\r\n                            {\r\n                                props.isUserMuseumAdmin &&\r\n                                    <NavLink className={s.goInside} to={`/m-admin/relocate/${props.location_id}/${props.hall_id}/${l.id}`}>Переместить артефакт</NavLink>\r\n                            }\r\n\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Hall;\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {CommonMuseumLogic} from \"../../../hoc/CommonMuseumLogic\";\r\nimport Hall from \"./Hall\";\r\nimport {CommonUpdateLogic} from \"../../../hoc/CommonUpdateLogic\";\r\nimport {\r\n    deleteHall,\r\n    getHallData,\r\n    getUserArtifactsList,\r\n    swapArtifacts,\r\n    updateHallData\r\n} from \"../../../redux/hall-reducer\";\r\nimport {addArtifactToPrint, deleteOneArtifact, removeArtifactsToPrint} from \"../../../redux/museum-reducer\";\r\n\r\nclass HallContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isDeleted: false,\r\n        }\r\n\r\n        this.updateHall = this.updateHall.bind(this)\r\n        this.deleteHall = this.deleteHall.bind(this)\r\n        this.swapArtifacts = this.swapArtifacts.bind(this)\r\n    }\r\n\r\n    deleteHall() {\r\n        this.props.deleteHall(this.props.match.params.location_id, this.props.match.params.hall_id)\r\n        this.setState({\r\n            isDeleted: true,\r\n        })\r\n    }\r\n\r\n    updateHall() {\r\n        this.props.updateHallData(this.props.match.params.location_id, this.props.match.params.hall_id, this.props.name, this.props.img, this.props.description)\r\n        this.props.setImage('')\r\n        this.props.changeCreate(false) //Больше не изменяем\r\n    }\r\n\r\n    swapArtifacts(swap_type, location_id) {\r\n        this.props.swapArtifacts(swap_type, location_id)\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(prevProps.hallData !== this.props.hallData) {\r\n            this.props.updateState(this.props.match.params.location_id, this.props.hallData.name, this.props.hallData.description, this.props.hallData.img, '', '')\r\n        }\r\n        if(prevProps.isRight !== this.props.isRight && !prevProps.isRight) {\r\n            this.updateHall()\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.props.isUserMuseumAdmin) { //Если пользватель - администратор\r\n            this.props.getHallData(this.props.match.params.location_id, this.props.match.params.hall_id)\r\n        }\r\n        else {\r\n            let token = localStorage.getItem('token') //Если у пользователя билет с токеном\r\n            this.props.getUserArtifactsList(token, this.props.match.params.hall_id)\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n        if(this.state.isDeleted) {\r\n            return <Redirect to={`/m-admin/${this.props.match.params.location_id}`} />\r\n        }\r\n\r\n        if((this.props.match.url.includes('/m-admin')) && (!this.props.isUserMuseumAdmin)) {\r\n            return <Redirect to={'/'} />\r\n        }\r\n\r\n        return (\r\n            <Hall {...this.props}\r\n                  location_id={this.props.match.params.location_id}\r\n                  hall_id={this.props.match.params.hall_id}\r\n                  deleteHall={this.deleteHall}\r\n                  swapArtifacts={this.swapArtifacts}\r\n            />\r\n\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        artifacts: state.hall.artifacts,\r\n        hallData: state.hall.hallData,\r\n        isUserMuseumAdmin: state.auth.isUserMuseumAdmin,\r\n        print: state.museum.print,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getHallData, updateHallData, deleteHall, swapArtifacts, addArtifactToPrint, deleteOneArtifact, getUserArtifactsList}),\r\n    withRouter,\r\n    CommonMuseumLogic,\r\n    CommonUpdateLogic,\r\n)(HallContainer)\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport ChangeForm from \"../../../Common/ChangeForm/ChangeForm\";\r\nimport {CommonMuseumLogic} from \"../../../hoc/CommonMuseumLogic\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {CommonCreateLogic} from \"../../../hoc/CommonCreateLogic\";\r\nimport {createHall} from \"../../../redux/hall-reducer\";\r\nimport {WithAdminRedirect} from \"../../../hoc/Redirect/WithAdminRedirect\";\r\n\r\nclass CreateLocation extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.createLocation = this.createLocation.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(prevProps.isRight !== this.props.isRight) {\r\n            this.createLocation()\r\n        }\r\n    }\r\n\r\n    createLocation() {\r\n        this.props.createHall(this.props.match.params.location_id, this.props.name, this.props.img, this.props.description)\r\n    }\r\n\r\n    render() {\r\n\r\n        if(this.props.isCreate) {\r\n            return <Redirect to={`/m-admin/${this.props.match.params.location_id}`} />\r\n        }\r\n\r\n        return (\r\n            <ChangeForm text={'Создание зала'} {...this.props}\r\n            />\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {createHall}),\r\n    withRouter,\r\n    CommonMuseumLogic,\r\n    CommonCreateLogic,\r\n    WithAdminRedirect,\r\n)(CreateLocation)\r\n\r\n//Оборачиваем компонент в компонент с общими полями, а так же в компонент с общей логикой создания\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport ChangeForm from \"../../../Common/ChangeForm/ChangeForm\";\r\nimport {CommonMuseumLogic} from \"../../../hoc/CommonMuseumLogic\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {CommonCreateLogic} from \"../../../hoc/CommonCreateLogic\";\r\nimport {WithAdminRedirect} from \"../../../hoc/Redirect/WithAdminRedirect\";\r\nimport {createArtifact} from \"../../../redux/artifact-reducer\";\r\n\r\nclass CreateArtifact extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isCreate: false\r\n        }\r\n\r\n        this.createArtifact = this.createArtifact.bind(this)\r\n        this.checkAudio = this.checkAudio.bind(this)\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(prevProps.isRight !== this.props.isRight && !prevProps.isRight) {\r\n            this.checkAudio()\r\n        }\r\n    }\r\n\r\n    checkAudio() {\r\n        let vid = /^(ftp|http|https):\\/\\/[^ \"]+$/\r\n\r\n        //Если загруженный файл является аудио и видео - ссылка или не заполнено\r\n        if(/audio/.test(this.props.audio.type) && (vid.test(this.props.video) || this.props.video === '')) {\r\n            this.props.toggleIsChanging(false)\r\n            this.createArtifact()\r\n            this.setState({\r\n                isCreate: true\r\n            })\r\n        }\r\n        else if(this.props.audio === '') { //Если аудио не загрузили\r\n            this.props.setValidation('isAudioTypeWrong', true)\r\n            this.props.changeCreate(false)\r\n        }\r\n        else if(!vid.test(this.props.video)) { //Если видео не является ссылкой\r\n            this.props.setValidation('isVideoUrlWrong', true)\r\n            this.props.changeCreate(false)\r\n        }\r\n        else { //Если файл загружен, но он не аудио\r\n            this.props.setValidation('isAudioTypeWrong', true)\r\n            this.props.changeCreate(false)\r\n        }\r\n    }\r\n    createArtifact() {\r\n        this.props.createArtifact(this.props.match.params.location_id, this.props.match.params.hall_id, this.props.name, this.props.img, this.props.description, this.props.audio, this.props.video)\r\n    }\r\n\r\n    render() {\r\n        if(this.state.isCreate) {\r\n            return <Redirect to={`/m-admin/${this.props.match.params.location_id}/${this.props.match.params.hall_id}`} />\r\n        }\r\n\r\n        return (\r\n            <ChangeForm text={'Создание артефакта'} {...this.props}\r\n                        isItemArtifact={true} //Является ли создаваемы объект артефактом\r\n            />\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {createArtifact}),\r\n    withRouter,\r\n    CommonMuseumLogic,\r\n    CommonCreateLogic,\r\n    WithAdminRedirect,\r\n)(CreateArtifact)\r\n\r\n//Оборачиваем компонент в компонент с общими полями, а так же в компонент с общей логикой создания\r\n","import React from 'react';\r\nimport s from './ChangeWorkerProfile.module.css'\r\nimport Input from \"../../../../Common/Input/Input\";\r\n\r\nconst ChangeWorkerProfile = (props) => {\r\n    return (\r\n        <div className={s.changeContainer}>\r\n            <Input text={'Фамилия'} type={'text'} name={'last_name'} handleFocus={props.handleChangeInputs} handleFindKey={props.handleFindKey} handleChange={props.handleChange} value={props.last_name} />\r\n            <Input text={'Имя'} type={'text'} name={'first_name'} handleFocus={props.handleChangeInputs} handleFindKey={props.handleFindKey} handleChange={props.handleChange} value={props.first_name} />\r\n            <Input text={'Отчество'} type={'text'} name={'middle_name'} handleFocus={props.handleChangeInputs} handleFindKey={props.handleFindKey} handleChange={props.handleChange} value={props.middle_name} />\r\n            <button className={s.button} onClick={props.updateWorker}>Сохранить</button>\r\n            {\r\n                props.museumAdminId !== props.id && <button className={s.button} onClick={() => props.deleteWorker(props.id)}>Удалить</button>\r\n            }\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ChangeWorkerProfile;\r\n","import {adminApi} from \"../api/api\";\r\n\r\nconst SET_ADMIN_DATA = 'SET_ADMIN_DATA'\r\n\r\nlet initialState = {\r\n    museum_super_admin: {}, //Профиль главного администратора\r\n    museum_admins: [], //Лист админов музея\r\n    museum_cashiers: [], //Лист кассиров музея\r\n}\r\n\r\nconst adminReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_ADMIN_DATA:\r\n            return {\r\n                ...state,\r\n                museum_super_admin: action.museum_super_admin,\r\n                museum_admins: action.museum_admins,\r\n                museum_cashiers: action.museum_cashiers,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAdminData = (museum_super_admin, museum_admins, museum_cashiers) => ({type: SET_ADMIN_DATA, museum_super_admin, museum_admins, museum_cashiers})\r\n\r\nexport const getAdminData = () => { //Получение информации о главном администраторе и его подчиненных\r\n    return (dispatch) => {\r\n        adminApi.getAdminData()\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('getAdminData', result)\r\n                    dispatch(setAdminData(result.museum_super_admin, result.museum_admins, result.museum_cashiers))\r\n                }))\r\n    }\r\n}\r\nexport const updateWorkerData = (last_name, first_name, middle_name, username, worker_id) => { //Обновление информации о главном администраторе и его подчиненных\r\n    return (dispatch) => {\r\n        adminApi.updateWorkerProfile(last_name, first_name, middle_name, username, worker_id)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('updateWorkerProfile', result)\r\n                    dispatch(setAdminData(result.museum_super_admin, result.museum_admins, result.museum_cashiers))\r\n                }))\r\n    }\r\n}\r\nexport const deleteWorker = (worker_id) => { //Удаление сотрудника\r\n    return (dispatch) => {\r\n        adminApi.deleteWorkerProfile(worker_id)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('deleteWorkerProfile', result)\r\n                    dispatch(setAdminData(result.museum_super_admin, result.museum_admins, result.museum_cashiers))\r\n                }))\r\n    }\r\n}\r\nexport const createWorker = (last_name, first_name, middle_name, email, password, role) => { //Добавление сотрудника\r\n    return (dispatch) => {\r\n        adminApi.createWorker(last_name, first_name, middle_name, email, password, role)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('createWorker', result)\r\n                    dispatch(setAdminData(result.museum_super_admin, result.museum_admins, result.museum_cashiers))\r\n                }))\r\n    }\r\n}\r\n\r\nexport default adminReducer\r\n","import React from 'react';\r\nimport s from './WorkerProfile.module.css'\r\n\r\nconst WorkerProfile = (props) => {\r\n    return (\r\n        <div className={s.container}>\r\n            <div className={s.id}>\r\n                id: {props.id}\r\n            </div>\r\n            <div className={s.name}>\r\n                {props.last_name} {props.first_name} {props.middle_name}\r\n            </div>\r\n            <button className={s.button} onClick={props.toggleIsChanging}>Изменить</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default WorkerProfile;\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport ChangeWorkerProfile from \"./ChangeWorkerProfile\";\r\nimport {deleteWorker, updateWorkerData} from \"../../../../redux/admin-reducer\";\r\nimport WorkerProfile from \"../WorkerProfile/WorkerProfile\";\r\n\r\nclass ChangeWorkerContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            first_name: \"\",\r\n            last_name: \"\",\r\n            middle_name: \"\",\r\n            isEmptyInputs: false, //Все ли поля пустые\r\n            isChanging: false, //Идет ли изменение профиля\r\n        }\r\n        this.handleFindKey = this.handleFindKey.bind(this)\r\n        this.handleChangeInputs = this.handleChangeInputs.bind(this)\r\n        this.updateWorker = this.updateWorker.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.toggleIsChanging = this.toggleIsChanging.bind(this)\r\n    }\r\n\r\n    toggleIsChanging() {\r\n        this.setState({\r\n            isChanging: !this.state.isChanging\r\n        })\r\n    }\r\n\r\n    handleChange(e) {\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n\r\n        this.setState({\r\n            [name]: value,\r\n        })\r\n    }\r\n\r\n    updateWorker() {\r\n        if(this.state.email === \"\" || this.state.password === \"\") {\r\n            this.setState({\r\n                isEmptyInputs: true //Поля пустые\r\n            })\r\n        }\r\n        else {\r\n            this.props.updateWorkerData(this.state.last_name, this.state.first_name, this.state.middle_name, this.props.username, this.props.id)\r\n            this.toggleIsChanging()\r\n        }\r\n    }\r\n\r\n    handleFindKey(e) {\r\n        if(e.keyCode === 13) { // Логин с нажатием enter\r\n            this.updateWorker()\r\n        }\r\n    }\r\n\r\n    handleChangeInputs() {\r\n        this.setState({\r\n            isEmptyInputs: false,\r\n        })\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(prevProps.last_name !== this.props.last_name) {\r\n            this.setState({\r\n                last_name: this.props.last_name,\r\n            })\r\n        }\r\n        if(prevProps.first_name !== this.props.first_name) {\r\n            this.setState({\r\n                first_name: this.props.first_name,\r\n            })\r\n        }\r\n        if(prevProps.middle_name !== this.props.middle_name) {\r\n            this.setState({\r\n                middle_name: this.props.middle_name,\r\n            })\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({\r\n            last_name: this.props.last_name,\r\n            first_name: this.props.first_name,\r\n            middle_name: this.props.middle_name,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {\r\n                    this.state.isChanging\r\n                        ? <ChangeWorkerProfile last_name={this.state.last_name} first_name={this.state.first_name} middle_name={this.state.middle_name}\r\n                                               handleChange={this.handleChange} updateWorker={this.updateWorker} museumAdminId={this.props.museumAdminId}\r\n                                               handleFindKey={this.handleFindKey} handleChangeInputs={this.handleChangeInputs} id={this.props.id} deleteWorker={this.props.deleteWorker}\r\n                        />\r\n                        : <WorkerProfile toggleIsChanging={this.toggleIsChanging} last_name={this.state.last_name} first_name={this.state.first_name} middle_name={this.state.middle_name} id={this.props.id}/>\r\n                }\r\n            </>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{updateWorkerData, deleteWorker})(ChangeWorkerContainer);\r\n","import React from 'react';\r\nimport s from './Management.module.css'\r\nimport ChangeWorkerContainer from \"./ChangeWorker/ChangeWorkerContainer\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport prev from \"../../../assets/images/left-chevron.svg\";\r\n\r\nconst Management = (props) => {\r\n    return (\r\n        <div className={s.container}>\r\n            <button onClick={() => props.history.goBack()} className={'backBtn'}>\r\n                <img src={prev} alt=\"back\"/>\r\n            </button>\r\n            <div className={s.profile}>\r\n                <ChangeWorkerContainer id={props.museum_super_admin.id}\r\n                                       first_name={props.museum_super_admin.first_name}\r\n                                       middle_name={props.museum_super_admin.middle_name}\r\n                                       last_name={props.museum_super_admin.last_name}\r\n                                       username={props.museum_super_admin.username}\r\n                                       museumAdminId={props.museum_super_admin.id}\r\n                />\r\n            </div>\r\n            <NavLink className={'create'} to={'/m-admin/hr-management/create_worker'}>Создать работника</NavLink>\r\n            <div className={s.people}>\r\n                <div className={s.title}>\r\n                    Администраторы\r\n                </div>\r\n                {\r\n                    props.museum_admins &&\r\n                        props.museum_admins.length > 0\r\n                    ? props.museum_admins.map(a => {\r\n                        return <ChangeWorkerContainer key={a.id} id={a.id} username={a.username} first_name={a.first_name} last_name={a.last_name} middle_name={a.middle_name} />\r\n                        })\r\n                    :\r\n                        <div>\r\n                            Нет администраторов\r\n                        </div>\r\n                }\r\n            </div>\r\n            <div className={s.people}>\r\n                <div className={s.title}>\r\n                    Кассиры\r\n                </div>\r\n                {\r\n                    props.museum_cashiers &&\r\n                    props.museum_cashiers.length > 0\r\n                        ? props.museum_cashiers.map(a => {\r\n                            return <ChangeWorkerContainer museumAdminId={props.museum_super_admin.id} key={a.id} id={a.id} username={a.username} first_name={a.first_name} last_name={a.last_name} middle_name={a.middle_name} />\r\n                        })\r\n                        :\r\n                        <div>\r\n                            Нет кассиров\r\n                        </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Management;\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isUserMuseumSuperAdmin: state.auth.isUserMuseumSuperAdmin,\r\n    };\r\n}\r\n\r\nexport const WithSuperAdminRedirect = (Component) => {\r\n\r\n    class WithSuperAdminRedirect extends React.Component {\r\n\r\n        render() {\r\n            if (!this.props.isUserMuseumSuperAdmin) return <Redirect to='/' />\r\n            return (\r\n                <Component {...this.props}\r\n\r\n                />\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    let ConnectedSuperAdminRedirectComponent = connect(mapStateToPropsForRedirect)(WithSuperAdminRedirect);\r\n\r\n    return ConnectedSuperAdminRedirectComponent;\r\n}\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Management from \"./Management\";\r\nimport {getAdminData} from \"../../../redux/admin-reducer\";\r\nimport {compose} from \"redux\";\r\nimport {WithSuperAdminRedirect} from \"../../../hoc/Redirect/WithSuperAdminRedirect\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nclass ManagementContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n    this.props.getAdminData()\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Management museum_super_admin={this.props.museum_super_admin}\r\n                        museum_admins={this.props.museum_admins}\r\n                        museum_cashiers={this.props.museum_cashiers}\r\n                        history={this.props.history}\r\n            />\r\n        );\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        is_museum_super_admin: state.museum.is_museum_super_admin,\r\n        is_museum_super_adminTest: state.museum.is_museum_super_adminTest,\r\n        museum_super_admin: state.admin.museum_super_admin,\r\n        museum_admins: state.admin.museum_admins,\r\n        museum_cashiers: state.admin.museum_cashiers,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getAdminData}),\r\n    withRouter,\r\n    WithSuperAdminRedirect,\r\n)(ManagementContainer)\r\n\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {createWorker} from \"../../../redux/admin-reducer\";\r\nimport {compose} from \"redux\";\r\nimport {CommonCreateWorkerLogic} from \"../../../hoc/CommonCreateWorkerLogic\";\r\nimport CreateWorkerInputs from \"../../../Common/CreateWorkerInputs/CreateWorkerInputs\";\r\nimport {WithSuperAdminRedirect} from \"../../../hoc/Redirect/WithSuperAdminRedirect\";\r\n\r\nclass CreateWorker extends React.Component {\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(prevProps.isRight !== this.props.isRight) {\r\n            this.props.createWorker(\r\n                this.props.last_name,\r\n                this.props.first_name,\r\n                this.props.middle_name,\r\n                this.props.email,\r\n                this.props.password,\r\n                this.props.role)\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        if(!this.props.is_museum_super_adminTest) {\r\n            return <Redirect to={'/'} />\r\n        }\r\n        if(this.props.isCreate) {\r\n            return <Redirect to={'/m-admin/hr-management'} />\r\n        }\r\n        return (\r\n            <CreateWorkerInputs {...this.props} />\r\n        );\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        is_museum_super_admin: state.museum.is_museum_super_admin,\r\n        is_museum_super_adminTest: state.museum.is_museum_super_adminTest,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {createWorker}),\r\n    CommonCreateWorkerLogic,\r\n    WithSuperAdminRedirect,\r\n)(CreateWorker)\r\n\r\n// export default connect(mapStateToProps,{createWorker})(CreateWorker);\r\n","import React from 'react';\r\nimport s from './MuseumsList.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport prev from \"../../../assets/images/left-chevron.svg\";\r\n\r\nconst MuseumsList = (props) => {\r\n    return (\r\n        <div className={s.container}>\r\n            <button onClick={() => props.history.goBack()} className={'backBtn'}>\r\n                <img src={prev} alt=\"back\"/>\r\n            </button>\r\n            <NavLink className={'create'} to={'/s-admin/create_museum'}>Создать музей</NavLink>\r\n            {\r\n                props.museums &&\r\n                    props.museums.length > 0 ?\r\n                    props.museums.map(m => {\r\n                        return(\r\n                            <div key={m.id} className={s.museumItemContainer}>\r\n                                <div className={s.id}>\r\n                                    Id: {m.id}\r\n                                </div>\r\n                                <div className={s.name}>\r\n                                    {m.name}\r\n                                </div>\r\n                                <div className={s.img}>\r\n                                    <img src={m.img} alt=\"museum\"/>\r\n                                </div>\r\n                                <div className={s.description}>\r\n                                    <div className={s.descriptionTitle}>\r\n                                        Описание:\r\n                                    </div>\r\n                                    <div>\r\n                                        {m.description}\r\n                                    </div>\r\n                                </div>\r\n                                <NavLink className={s.goInside} to={`/s-admin/${m.id}`}>Перейти</NavLink>\r\n                            </div>\r\n                        )\r\n                    })\r\n                    :\r\n                    <div>\r\n                        Музеев не найдено\r\n                    </div>\r\n            }\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MuseumsList;\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isUserServiceAdmin: state.auth.isUserServiceAdmin,\r\n    };\r\n}\r\n\r\nexport const WithServiceAdminRedirect = (Component) => {\r\n\r\n    class WithServiceAdminRedirect extends React.Component {\r\n\r\n        render() {\r\n            if (!this.props.isUserServiceAdmin) return <Redirect to='/' />\r\n            return (\r\n                <Component {...this.props}\r\n\r\n                />\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    let ConnectedServiceAdminRedirectComponent = connect(mapStateToPropsForRedirect)(WithServiceAdminRedirect);\r\n\r\n    return ConnectedServiceAdminRedirectComponent;\r\n}\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport MuseumsList from \"./MuseumsList\";\r\nimport {getMuseums} from \"../../../redux/serviceAdmin-reducer\";\r\nimport {compose} from \"redux\";\r\nimport {WithServiceAdminRedirect} from \"../../../hoc/Redirect/WithServiceAdminRedirect\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nclass MuseumsListContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getMuseums()\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <MuseumsList history={this.props.history} museums={this.props.museums} />\r\n        );\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isLogin: state.auth.isLogin,\r\n        isUserServiceAdmin: state.auth.isUserServiceAdmin,\r\n        museums: state.service.museums,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getMuseums}),\r\n    withRouter,\r\n    WithServiceAdminRedirect,\r\n)(MuseumsListContainer)\r\n\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport ChangeForm from \"../../../Common/ChangeForm/ChangeForm\";\r\nimport {CommonMuseumLogic} from \"../../../hoc/CommonMuseumLogic\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {CommonCreateLogic} from \"../../../hoc/CommonCreateLogic\";\r\nimport {createMuseum} from \"../../../redux/serviceAdmin-reducer\";\r\nimport {WithServiceAdminRedirect} from \"../../../hoc/Redirect/WithServiceAdminRedirect\";\r\n\r\nclass CreateMuseum extends React.Component {\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(prevProps.isRight !== this.props.isRight) {\r\n            this.props.createMuseum(this.props.name, this.props.img, this.props.description)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if(this.props.isCreate) {\r\n            return <Redirect to={'/s-admin'} />\r\n        }\r\n\r\n        return (\r\n            <ChangeForm text={'Создание музея'} {...this.props} />\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {createMuseum}),\r\n    withRouter,\r\n    CommonMuseumLogic,\r\n    CommonCreateLogic,\r\n    WithServiceAdminRedirect,\r\n)(CreateMuseum)\r\n\r\n//Оборачиваем компонент в компонент с общими полями, а так же в компонент с общей логикой создания\r\n","import React from 'react';\r\nimport s from './TicketsList.module.css'\r\n\r\nconst Ticket = (props) => {\r\n    return (\r\n        <a href={props.pdf} target={'_blank'} rel=\"noreferrer noopener\" className={s.ticketItem}>\r\n            <div className={s.id}>\r\n                Билет №: {props.id}\r\n            </div>\r\n            <div className={s.time}>\r\n                Был создан: {props.created_at}\r\n            </div>\r\n        </a>\r\n    );\r\n}\r\n\r\nexport default Ticket;\r\n","import React from 'react';\r\nimport s from './TicketsList.module.css'\r\nimport Ticket from \"./Ticket\";\r\nimport prev from \"../../../assets/images/left-chevron.svg\";\r\n\r\nconst TicketsList = (props) => {\r\n    return (\r\n        <div className={s.container}>\r\n            <h1 className={s.title}>Список билетов</h1>\r\n            <button onClick={() => props.history.goBack()} className={'backBtn'}>\r\n                <img src={prev} alt=\"back\"/>\r\n            </button>\r\n            <button className={'submit'} onClick={props.createTicket}>Создать билет</button>\r\n            <div className={s.ticketsContainer}>\r\n                {\r\n                    props.tickets.map(t => {\r\n                        return <Ticket key={t.id} id={t.id} pdf={t.pdf} created_at={t.created_at}  />\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TicketsList\r\n","import {cashierApi} from \"../api/api\";\r\n\r\nconst SET_TICKETS = 'SET_TICKETS'\r\n\r\nlet initialState = {\r\n    tickets: [], //Все активные билеты\r\n}\r\n\r\nconst cashierReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_TICKETS:\r\n            return {\r\n                ...state,\r\n                tickets: action.tickets\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setTickets = (tickets) => ({type: SET_TICKETS, tickets})\r\n\r\nexport const getTickets = () => { //Получение списка активных билетов\r\n    return (dispatch) => {\r\n        cashierApi.getTickets()\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('getTickets', result)\r\n                    dispatch(setTickets(result))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const createTicket = () => { //Создание билета\r\n    return (dispatch) => {\r\n        cashierApi.createTicket()\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('createTicket', result)\r\n                    dispatch(setTickets(result))\r\n                }))\r\n    }\r\n}\r\n\r\n\r\nexport default cashierReducer\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isUserCashier: state.auth.isUserCashier,\r\n    };\r\n}\r\n\r\nexport const WithCashierRedirect = (Component) => {\r\n\r\n    class WithCashierRedirect extends React.Component {\r\n\r\n        render() {\r\n            if (!this.props.isUserCashier) return <Redirect to='/' />\r\n            return (\r\n                <Component {...this.props}\r\n\r\n                />\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    let ConnectedCashierRedirectComponent = connect(mapStateToPropsForRedirect)(WithCashierRedirect);\r\n\r\n    return ConnectedCashierRedirectComponent;\r\n}\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport TicketsList from \"./TicketsList\";\r\nimport {createTicket, getTickets} from \"../../../redux/cashier-reducer\";\r\nimport {compose} from \"redux\";\r\nimport {WithCashierRedirect} from \"../../../hoc/Redirect/WithCashierRedirect\";\r\nimport {withRouter} from \"react-router-dom\";\r\n\r\nclass TicketsListContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getTickets()\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <TicketsList history={this.props.history} tickets={this.props.tickets} createTicket={this.props.createTicket} />\r\n\r\n        );\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        tickets: state.cashier.tickets,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getTickets, createTicket}),\r\n    withRouter,\r\n    WithCashierRedirect,\r\n)(TicketsListContainer)\r\n","export default __webpack_public_path__ + \"static/media/loader.b7e7449a.svg\";","import React from 'react';\r\nimport fetchingLoader from './loader.svg';\r\nimport s from './Preloader.module.css'\r\n\r\nlet Preloader = () => {\r\n    return (\r\n        <div className={s.preloaderContainer} >\r\n            <img src={fetchingLoader} alt='preloader' />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Preloader;\r\n","import React from 'react';\r\nimport s from './PrintList.module.css'\r\n\r\nconst PrintList = (props) => {\r\n    return (\r\n        <div className={s.container}>\r\n            {\r\n                props.print &&\r\n                props.print.length > 0\r\n                &&\r\n                    <>\r\n                        <button onClick={() => props.printArtifacts(props.print, 'large')}>Печать большой</button>\r\n                        <button onClick={() => props.printArtifacts(props.print, 'medium')}>Печать средний</button>\r\n                        <button onClick={() => props.printArtifacts(props.print, 'tiny')}>Печать маленький</button>\r\n                        <button onClick={() => props.removeArtifactsToPrint()}>Удалить всё</button>\r\n                    </>\r\n\r\n            }\r\n\r\n            {\r\n                props.pdf !== '' &&\r\n                    <div>\r\n                        <a target={'_blank'} rel={'noreferrer noopener'} href={props.pdf}>Открыть pdf файл с qr-кодами артефактов</a>\r\n                    </div>\r\n            }\r\n\r\n            {\r\n                props.print &&\r\n                (props.print.length > 0) ?\r\n                        props.print.map(p => {\r\n                            return (\r\n                                <div className={s.printItem} key={p.id}>\r\n                                    <div className={s.title}>\r\n                                       Название: {p.name}\r\n                                    </div>\r\n                                    <div className={s.title}>\r\n                                       id: {p.id}\r\n                                    </div>\r\n                                    <img className={s.img} src={p.img} alt=\"location\"/>\r\n                                    <button onClick={() => props.deleteOneArtifact(p.id)}>Удалить из печати</button>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    :\r\n                    <div>\r\n                        Нет артефактов для печати\r\n                    </div>\r\n            }\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PrintList;\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport PrintList from \"./PrintList\";\r\nimport {clearPdf, deleteOneArtifact, printArtifacts, removeArtifactsToPrint} from \"../../../redux/museum-reducer\";\r\nimport {compose} from \"redux\";\r\nimport {WithAdminRedirect} from \"../../../hoc/Redirect/WithAdminRedirect\";\r\nimport {Route} from \"react-router-dom\";\r\n\r\n\r\nclass PrintListContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(prevProps.pdf !== this.props.pdf) {\r\n            this.props.clearPdf()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if(this.props.pdf !== '') {\r\n            return <Route path={'/'} component={() => { window.open(this.props.pdf); return <PrintList {...this.props} />} }/>\r\n        }\r\n        return (\r\n            <PrintList {...this.props} />\r\n        );\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        print: state.museum.print,\r\n        pdf: state.museum.pdf,\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {removeArtifactsToPrint, deleteOneArtifact, printArtifacts, clearPdf}),\r\n    WithAdminRedirect,\r\n)(PrintListContainer)\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {WithAdminRedirect} from \"../../../hoc/Redirect/WithAdminRedirect\";\r\nimport {getMuseumData} from \"../../../redux/museum-reducer\";\r\nimport {Redirect, withRouter} from \"react-router-dom\";\r\nimport Museum from \"../Museum/Museum\";\r\nimport Location from \"../Location/Location\";\r\nimport {relocateArtifact} from \"../../../redux/artifact-reducer\";\r\nimport {getLocationData} from \"../../../redux/location-reducer\";\r\nimport {CommonMuseumLogic} from \"../../../hoc/CommonMuseumLogic\";\r\n\r\nclass RelocateContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n\r\n            location_id: '',\r\n            hall_id: '',\r\n            artifact_id: '',\r\n\r\n            isRelocated: false, //Если перемещение прошло успешно\r\n            isLocationSelected: false, //Если выбор локации произошел\r\n            isHallSelected: false, //Если выбор зала произошел\r\n        }\r\n        this.selectHall = this.selectHall.bind(this)\r\n        this.selectLocation = this.selectLocation.bind(this)\r\n    }\r\n\r\n\r\n    selectLocation(location_id) {\r\n        this.props.getLocationData(location_id)\r\n        this.setState({\r\n            isLocationSelected: true,\r\n        })\r\n    }\r\n\r\n    selectHall (hall_id) {\r\n        this.props.relocateArtifact(hall_id, this.state.artifact_id)\r\n        this.setState({\r\n            isHallSelected: true,\r\n            isRelocated: true,\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(this.props.locations.length === 0) {\r\n            this.props.getMuseumData()\r\n        }\r\n        this.setState({\r\n            artifact_id: this.props.match.params.artifact_id,\r\n            location_id: this.props.match.params.location_id,\r\n            hall_id: this.props.match.params.hall_id,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if(!this.state.isLocationSelected) {\r\n            return (\r\n                <Museum history={this.props.history} locations={this.props.locations} name={this.props.museumData.name}\r\n                        main_img={this.props.museumData.img} description={this.props.museumData.description}\r\n                        selectLocation={this.selectLocation} isRelocate={true}/>\r\n            );\r\n        }\r\n        else if(!this.state.isHallSelected) {\r\n            return (\r\n                <Location history={this.props.history} halls={this.props.halls} name={this.props.locationData.name} main_img={this.props.locationData.img}\r\n                          description={this.props.locationData.description} selectHall={this.selectHall} isRelocate={true}/>\r\n            );\r\n        }\r\n        else if(this.state.isRelocated) {\r\n            return <Redirect to={`/m-admin/${this.state.location_id}/${this.state.hall_id}`} />\r\n        }\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        locations: state.museum.locations,\r\n        museumData: state.museum.museumData,\r\n        locationData: state.location.locationData,\r\n        halls: state.location.halls,\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getMuseumData, relocateArtifact, getLocationData}),\r\n    withRouter,\r\n    WithAdminRedirect,\r\n)(RelocateContainer)\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {Route, Switch, withRouter} from \"react-router-dom\";\r\nimport MainContainer from \"./Main/MainContainer\";\r\nimport Transition from \"./Transition/Transition\";\r\nimport ArtifactContainer from \"./Artifact/ArtifactContainer\";\r\nimport PreloaderLogo from \"../../Common/PreloaderLogo/PreloaderLogo\";\r\nimport MuseumContainer from \"./Museum/MuseumContainer\";\r\nimport LocationContainer from \"./Location/LocationContainer\";\r\nimport CreateLocation from \"./Create/CreateLocation\";\r\nimport HallContainer from \"./Hall/HallContainer\";\r\nimport CreateHall from \"./Create/CreateHall\";\r\nimport CreateArtifact from \"./Create/CreateArtifact\";\r\nimport ManagementContainer from \"./Management/ManagementContainer\";\r\nimport CreateWorker from \"./CreateWorker/CreateWorker\";\r\nimport MuseumsListContainer from \"./MuseumsList/MuseumsListContainer\";\r\nimport CreateMuseum from \"./Create/CreateMuseum\";\r\nimport TicketsListContainer from \"./TicketsList/TicketsListContainer\";\r\nimport {initializingToken, setToken} from \"../../redux/user-reducer\";\r\nimport {compose} from \"redux\";\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport PrintListContainer from \"./PrintList/PrintListContainer\";\r\nimport RelocateContainer from \"./Relocate/RelocateContainer\";\r\n\r\nclass Container extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const url = new URLSearchParams(this.props.location.search)\r\n        let localToken = localStorage.getItem('token')\r\n        let token = url.get('token');\r\n        if(!this.props.isUserMuseumSuperAdmin && !this.props.isUserServiceAdmin && !this.props.isUserCashier && !this.props.isUserMuseumAdmin) {\r\n            if(token !== null) {\r\n                localStorage.setItem('token', token)\r\n                this.props.setToken(token)\r\n            }\r\n            else if(localToken !== null) {\r\n                this.props.setToken(localToken)\r\n            }\r\n\r\n        }\r\n        this.props.initializingToken() //Отрисовка приложения после установки/неустановки токена из билета\r\n    }\r\n\r\n    render() {\r\n\r\n        if(!this.props.isTokenSet) {\r\n            return <Preloader />\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <PreloaderLogo />\r\n                <Switch>\r\n                    <Route exact path='/' render={ () => <MainContainer />} />\r\n\r\n                    <Route exact path='/enter' render={ () => <Transition />} />\r\n                    <Route exact path='/scan' render={ () => <Transition />} />\r\n\r\n                    {/*Покупатель*/}\r\n                    {/*<Route exact path='/artifacts/:id/Qr-code' render={ () => <QrCodeContainer /> } />*/}\r\n                    <Route exact path='/artifacts/:artifact_id' render={ () => <ArtifactContainer />} />\r\n                    <Route exact path='/locations/' render={ () => <MuseumContainer />} /> {/*Список локация музея*/}\r\n                    <Route exact path='/locations/:location_id/halls' render={ () => <LocationContainer />} /> {/*Список залов конкретной локации*/}\r\n                    <Route exact path='/halls/:hall_id/artifacts' render={ () => <HallContainer/>} /> {/*Список артифактов конкретного зала*/}\r\n                    {/*<Route exact path='/artifacts' render={ () => <ArtifactsListContainer />} />*/}\r\n\r\n                    {/*Музей*/}\r\n                    <Route exact path='/m-admin' render={ () => <MuseumContainer />} />\r\n                    <Route exact path='/m-admin/print' render={ () => <PrintListContainer />} />\r\n                    <Route exact path='/m-admin/hr-management' render={ () => <ManagementContainer />} />\r\n                    <Route exact path='/m-admin/hr-management/create_worker' render={ () => <CreateWorker />} />\r\n                    <Route exact path='/m-admin/create_location' render={ () => <CreateLocation />} />\r\n                    <Route exact path='/m-admin/:location_id' render={ () => <LocationContainer />} />\r\n                    <Route exact path='/m-admin/:location_id/create_halls' render={ () => <CreateHall />} />\r\n                    <Route exact path='/m-admin/:location_id/:hall_id' render={ () => <HallContainer />} />\r\n                    <Route exact path='/m-admin/:location_id/:hall_id/create_artifacts' render={ () => <CreateArtifact />} />\r\n                    <Route exact path='/m-admin/:location_id/:hall_id/:artifact_id' render={ () => <ArtifactContainer />} />\r\n                    <Route exact path='/m-admin/relocate/:location_id/:hall_id/:artifact_id' render={ () => <RelocateContainer />} />\r\n\r\n                    {/*Администратор сервиса*/}\r\n                    <Route exact path='/s-admin' render={ () => <MuseumsListContainer />} /> {/*Лист музеев*/}\r\n                    <Route exact path='/s-admin/create_museum' render={ () => <CreateMuseum />} /> {/*Создание музея*/}\r\n                    <Route exact path='/s-admin/:museum_id' render={ () => <MuseumContainer />} /> {/*Отрисовывает главного администратора музея*/}\r\n\r\n                    {/*Кассир*/}\r\n                    <Route exact path='/cashier' render={ () => <TicketsListContainer />} /> {/*Лист билетов*/}\r\n\r\n                    {/*<Route exact path='/test' render={ () => <TestContainer />} />*/}\r\n                </Switch>\r\n            </>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isUserMuseumAdmin: state.auth.isUserMuseumAdmin,\r\n        isUserCashier: state.auth.isUserCashier,\r\n        isUserServiceAdmin: state.auth.isUserServiceAdmin,\r\n        isUserMuseumSuperAdmin: state.auth.isUserMuseumSuperAdmin,\r\n        isTokenSet: state.user.isTokenSet,\r\n    }\r\n}\r\nexport default compose(\r\n    connect(mapStateToProps, {setToken, initializingToken}),\r\n    withRouter,\r\n)(Container)\r\n\r\n","import {authApi as authAPI} from \"../api/api\";\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\nconst UPDATE_USER_DATA = 'UPDATE_USER_DATA';\r\nconst DELETE_USER_DATA = 'DELETE_USER_DATA';\r\nconst SET_AUTH = 'SET_AUTH';\r\nconst SET_LOGIN_WRONG = 'SET_LOGIN_WRONG';\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\nconst SET_PASSWORD_CONDITIONS = 'SET_PASSWORD_CONDITIONS';\r\nconst SET_IS_CURRENT_PASSWORD_WRONG = 'SET_IS_CURRENT_PASSWORD_WRONG';\r\nconst SET_IS_PASSWORD_RIGHT = 'SET_IS_PASSWORD_RIGHT';\r\nconst SET_IS_PASSWORD_SIMPLE = 'SET_IS_PASSWORD_SIMPLE';\r\nconst SET_IS_EMAIL_EXISTS = 'SET_IS_EMAIL_EXISTS';\r\nconst SET_IS_EMAIL_TAKEN = 'SET_IS_EMAIL_TAKEN';\r\nconst IS_FETCH = 'IS_FETCH';\r\nconst SET_USER_STATUS = 'SET_USER_STATUS';\r\n\r\n\r\nlet initialState = {\r\n    userData: {}, //Данные пользователя\r\n\r\n    isLogin: false, //Залогинен ли пользователь\r\n\r\n    isUserServiceAdmin: false, //Является ли пользователь админом сервиса\r\n    isUserMuseumSuperAdmin: false, //Является ли пользователь главным админом музея\r\n    isUserMuseumAdmin: false, //Является ли пользователь админом музея\r\n    isUserCashier: false, //Является ли пользователь кассиром\r\n\r\n    isInitialized: false, //Инициализация приложения\r\n    isFetch: true,\r\n    isLoginWrong: false, //Если ошибка при логине\r\n    isSetPasswordRight: false, //Если успешно сменил пароль\r\n    isCurrentPasswordWrong: false, //Если текущий пароль неправильный\r\n    isEmailExists: true, //Существует ли пользователь с таким email\r\n    isEmailTaken: false, //Занят ли такой email\r\n    isPasswordSimple: false, //Распространен ли пароль\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: //Установка пользовательских данных\r\n            return {\r\n                ...state,\r\n                userData: action.userData,\r\n            }\r\n        case UPDATE_USER_DATA: //Обновление данных пользователя\r\n            return {\r\n                ...state,\r\n                userData: {\r\n                    ...state.userData,\r\n                    first_name: action.first_name,\r\n                    last_name: action.last_name,\r\n                    middle_name: action.middle_name,\r\n                    phone_number: action.phone_number,\r\n                },\r\n            }\r\n        case DELETE_USER_DATA: //Удаление данных пользователя\r\n            return {\r\n                ...state,\r\n                userData: {},\r\n            }\r\n        case SET_AUTH: //Залогинен ли пользователь\r\n            return {\r\n                ...state,\r\n                isLogin: action.isLogin,\r\n            }\r\n        case SET_LOGIN_WRONG: //Неверный логин или пароль\r\n            return {\r\n                ...state,\r\n                isLoginWrong: action.isLoginWrong,\r\n            }\r\n        case SET_INITIALIZED: //Инициализировалось ли приложение\r\n            return {\r\n                ...state,\r\n                isInitialized: true,\r\n            }\r\n        case IS_FETCH: //Загрузка\r\n            return {\r\n                ...state,\r\n                isFetch: action.isFetch,\r\n            }\r\n        case SET_USER_STATUS: //Установка статуса пользователя\r\n            return {\r\n                ...state,\r\n                isUserServiceAdmin: action.result.is_service_super_admin,\r\n                isUserMuseumSuperAdmin: action.result.is_museum_super_admin,\r\n                isUserMuseumAdmin: action.result.is_museum_admin,\r\n                isUserCashier: action.result.is_museum_cashier,\r\n            }\r\n        case SET_IS_CURRENT_PASSWORD_WRONG: //Если ввели неправильный текущий пароль\r\n            return {\r\n                ...state,\r\n                isCurrentPasswordWrong: true,\r\n            }\r\n        case SET_IS_PASSWORD_RIGHT: //Если пароль сменен успешно\r\n            return {\r\n                ...state,\r\n                isSetPasswordRight: true,\r\n            }\r\n        case SET_IS_PASSWORD_SIMPLE: //Простой ли пароль\r\n            return {\r\n                ...state,\r\n                isPasswordSimple: action.isPasswordSimple,\r\n            }\r\n        case SET_IS_EMAIL_EXISTS: //Существует ли email\r\n            return {\r\n                ...state,\r\n                isEmailExists: action.isEmailExists,\r\n            }\r\n        case SET_IS_EMAIL_TAKEN: //Зарегистрирован ли такой email\r\n            return {\r\n                ...state,\r\n                isEmailTaken: action.isEmailTaken,\r\n            }\r\n        case SET_PASSWORD_CONDITIONS: //Обнуление условий смены пароля при закрытии страницы изменения пароля\r\n            return {\r\n                ...state,\r\n                isSetPasswordRight: false,\r\n                isCurrentPasswordWrong: false,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setUserData = (userData) => ({type: SET_USER_DATA, userData}) //Данные пользователя\r\nexport const updateUserData = (last_name, first_name, middle_name, phone_number) => ({type: UPDATE_USER_DATA, last_name, first_name, middle_name, phone_number}) //Обновление данные пользователя\r\nexport const deleteUserData = () => ({type: DELETE_USER_DATA}) //Удаление данных пользователя\r\nexport const setAuth = (isLogin) => ({type: SET_AUTH, isLogin}) //Авторизован ли пользователь\r\nexport const setLoginWrong = (isLoginWrong) => ({type: SET_LOGIN_WRONG, isLoginWrong}) //Ошибка при логине\r\nexport const setInitialized = () => ({type: SET_INITIALIZED})\r\nexport const setFetch = (isFetch) => ({type: IS_FETCH, isFetch})\r\nexport const setUserStatus = (result) => ({type: SET_USER_STATUS, result}) //статусы пользователя\r\nexport const setIsPasswordSimple = (isPasswordSimple) => ({type: SET_IS_PASSWORD_SIMPLE, isPasswordSimple})\r\nexport const setPasswordConditions = () => ({type: SET_PASSWORD_CONDITIONS}) //Обнуление условий смены пароля при закрытии страницы изменения пароля\r\nexport const setIsCurrentPasswordWrong = () => ({type: SET_IS_CURRENT_PASSWORD_WRONG}) //Текущий пароль неправильный\r\nexport const setIsPasswordRight = () => ({type: SET_IS_PASSWORD_RIGHT}) //Пароль сменен успешно\r\nexport const setIsEmailExists = (isEmailExists) => ({type: SET_IS_EMAIL_EXISTS, isEmailExists}) //Email существует или нет\r\nexport const setIsEmailTaken = (isEmailTaken) => ({type: SET_IS_EMAIL_TAKEN, isEmailTaken}) //Email занят или нет\r\n\r\n\r\nexport const getStatus = () => { //Проверка пользователя\r\n    return (dispatch) => {\r\n        authAPI.getStatus()\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('getStatus', result)\r\n                    dispatch(setUserStatus(result))\r\n                    if(result.is_service_super_admin || result.is_museum_super_admin || result.is_museum_admin || result.is_museum_cashier) {\r\n                        dispatch(setAuth(true))\r\n                    }\r\n                    else {\r\n                        dispatch(setAuth(false))\r\n                    }\r\n                    dispatch(setInitialized())\r\n                }))\r\n    }\r\n}\r\n\r\nexport const accountChange = (last_name, first_name, middle_name, phone_number) => { //Изменение данных пользователя\r\n    return (dispatch) => {\r\n        authAPI.accountChange(last_name, first_name, middle_name, phone_number)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('account Change', result)\r\n                    if(result) {\r\n                        dispatch(updateUserData(last_name, first_name, middle_name, phone_number))\r\n                    }\r\n                }))\r\n    }\r\n}\r\n\r\nexport const login = (username, password) => { //Логин\r\n    return (dispatch) => {\r\n        authAPI.login(username, password)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    if(result.detail !== \"No active account found with the given credentials\") {\r\n                        console.log('login', result)\r\n                        localStorage.setItem('accessToken', result.access)\r\n\r\n                        // dispatch(account()) //Получение данных пользователя после логина\r\n                        dispatch(getStatus())\r\n                        // dispatch(setAuth(true)) //Авторизован ли пользователь\r\n                        dispatch(setLoginWrong(false)) //Если до этого вводили неправильные данные\r\n                    }\r\n                    else if(result.detail === \"No active account found with the given credentials\") {\r\n                        dispatch(setLoginWrong(true)) //Если ввели неправильные данные или аккаунт не активный\r\n                    }\r\n                }))\r\n    }\r\n}\r\nexport const logout = () => { //Выход\r\n    return (dispatch) => {\r\n        localStorage.removeItem('accessToken');\r\n        dispatch(setAuth(false))\r\n        dispatch(deleteUserData()) //Удаление данных пользователя при выходе\r\n    }\r\n}\r\n\r\nexport const registration = (username, password, email, last_name, first_name, middle_name, phone_number) => { //Регистрация\r\n    return (dispatch) => {\r\n        dispatch(setFetch(true))\r\n        authAPI.register(username, password, email, last_name, first_name, middle_name, phone_number)\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('register', result)\r\n                    if (result.id) {\r\n                        dispatch(setIsEmailTaken(false))\r\n                        dispatch(setIsPasswordSimple(false))\r\n                    }\r\n                    else if(result.username) {\r\n                        dispatch(setIsEmailTaken(true))\r\n                        dispatch(setIsPasswordSimple(false))\r\n                    }\r\n                    else if(result.password) {\r\n                        dispatch(setIsPasswordSimple(true))\r\n                        dispatch(setIsEmailTaken(false))\r\n                    }\r\n\r\n                }))\r\n    }\r\n}\r\nexport const activation = (uid, token) => { //Активация аккаунта\r\n    return (dispatch) => {\r\n        authAPI.activation(uid, token)\r\n            .then(response => response.text()\r\n                .then(result => {\r\n                    console.log('activation', result)\r\n                    dispatch(setFetch(false))\r\n                }))\r\n    }\r\n}\r\n\r\nexport const setPassword = (current_password, new_password, re_new_password) => { //Смена пароля\r\n    return (dispatch) => {\r\n        authAPI.setPassword(current_password, new_password, re_new_password)\r\n            .then(response => response.text()\r\n                .then(result => {\r\n                    console.log('set_password', result)\r\n                    if(result === '{\"new_password\":[\"Введённый пароль слишком широко распространён.\"]}') {\r\n                        dispatch(setIsPasswordSimple(true))\r\n                    }\r\n                    else if(result === '{\"current_password\":[\"Invalid password.\"]}') { //Пароль неверный\r\n                        dispatch(setIsCurrentPasswordWrong())\r\n                        dispatch(setIsPasswordSimple(false))\r\n                    }\r\n                    else {\r\n                        dispatch(setIsPasswordRight())\r\n                        dispatch(setIsPasswordSimple(false))\r\n                        dispatch(logout())\r\n                    }\r\n                }))\r\n    }\r\n}\r\n\r\nexport const resetPassword = (email) => { //Ввод почты для смены пароля и отправка письма\r\n    return (dispatch) => {\r\n        authAPI.accountRecovery(email) //Проверка почты\r\n            .then(response => response.json()\r\n                .then(result => {\r\n                    console.log('email_recovery')\r\n                    if(result) {\r\n                        dispatch(setIsEmailExists(true))\r\n                        authAPI.resetPassword(email) //Отправка письма на почту\r\n                            .then(response => response.text()\r\n                                .then(result => {\r\n                                    console.log('reset_password', result)\r\n                                }))\r\n                    }\r\n                    else {\r\n                        dispatch(setIsEmailExists(false))\r\n                    }\r\n                }))\r\n\r\n    }\r\n}\r\n\r\nexport const resetPasswordConfirm = (uid, token, new_password, re_new_password) => { //Смена пароля и токены\r\n    return (dispatch) => {\r\n        authAPI.resetPasswordConfirm(uid, token, new_password, re_new_password)\r\n            .then(response => response.text()\r\n                .then(result => {\r\n                    console.log('reset_password_confirm', result)\r\n                    if(result === '{\"new_password\":[\"Введённый пароль слишком широко распространён.\"]}') {\r\n                        dispatch(setIsPasswordSimple(true))\r\n                    }\r\n                    else {\r\n                        dispatch(setIsPasswordSimple(false))\r\n                        dispatch(logout())\r\n                    }\r\n                }))\r\n    }\r\n}\r\n\r\nexport const initialized = () => {\r\n    return async (dispatch) => {\r\n\r\n    }\r\n}\r\n\r\nexport default authReducer\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {NavLink, Redirect} from \"react-router-dom\";\r\nimport s from \"./Login.module.css\";\r\nimport Input from \"../../Common/Input/Input\";\r\nimport {login} from \"../../redux/authentication\";\r\n\r\n\r\nclass Login extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: \"\",\r\n            password: \"\",\r\n            isEmptyInputs: false, //Все ли поля пустые\r\n            isLoginWrong: false, //Если ошибка при логине\r\n        }\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        this.handleChangeInputs = this.handleChangeInputs.bind(this)\r\n        this.handleFindKey = this.handleFindKey.bind(this)\r\n    }\r\n\r\n    handleChange(e) {\r\n        let name = e.target.name\r\n        let value = e.target.value\r\n\r\n        this.setState({\r\n            [name]: value,\r\n        })\r\n    }\r\n\r\n    handleSubmit() {\r\n        if(this.state.email === \"\" || this.state.password === \"\") {\r\n            this.setState({\r\n                isEmptyInputs: true //Поля пустые\r\n            })\r\n        }\r\n        else this.props.login(this.state.email, this.state.password)\r\n    }\r\n\r\n    handleFindKey(e) {\r\n        if(e.keyCode === 13) { // Логин с нажатием enter\r\n            this.handleSubmit()\r\n        }\r\n    }\r\n\r\n    handleChangeInputs() {\r\n        this.setState({\r\n            isEmptyInputs: false,\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if(prevProps.isLoginWrong !== this.props.isLoginWrong) {\r\n            this.setState({\r\n                isLoginWrong: this.props.isLoginWrong,\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {\r\n                    this.props.isLogin ? <Redirect to=\"/\" />\r\n                    :\r\n                        <div className={s.login}>\r\n\r\n                            <h3 className={s.title}>Вход в личный кабинет</h3>\r\n\r\n                            <Input text={'Email'} type={'email'} name={'email'} handleFocus={this.handleChangeInputs} handleFindKey={this.handleFindKey} handleChange={this.handleChange} value={this.state.email} />\r\n                            <Input text={'Пароль'} type={'password'} name={'password'} handleFocus={this.handleChangeInputs} handleFindKey={this.handleFindKey} handleChange={this.handleChange} value={this.state.password} />\r\n\r\n                            {\r\n                                this.state.isEmptyInputs &&\r\n                                <div className={'form__wrong'}>\r\n                                    Все поля обязательны для заполнения\r\n                                </div>\r\n                            }\r\n\r\n                            {\r\n                                this.state.isLoginWrong &&\r\n                                    <div className={'form__wrong'}>\r\n                                        Неправильный логин или пароль\r\n                                    </div>\r\n                            }\r\n\r\n                            <NavLink className={s.forgot} to={'/reset_password'}>Забыли пароль?</NavLink>\r\n                            <button className={'submit'} onClick={this.handleSubmit}>Войти</button>\r\n\r\n                        </div>\r\n                }\r\n\r\n            </>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isLogin: state.auth.isLogin,\r\n        isLoginWrong: state.auth.isLoginWrong,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{login})(Login);\r\n","import React from 'react';\r\nimport './App.css';\r\nimport './Common/style.css'\r\nimport {connect} from \"react-redux\";\r\nimport {Route, Switch} from \"react-router-dom\";\r\nimport Container from \"./Components/Container/Container\";\r\nimport Login from \"./Components/Login/Login\";\r\nimport Preloader from \"./Common/Preloader/Preloader\";\r\nimport {getStatus} from \"./redux/authentication\";\r\n\r\nclass App extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getStatus()\r\n    }\r\n\r\n    render() {\r\n\r\n        //Инициализация(авторизация) на будущее\r\n        if(!this.props.isInitialized) {\r\n            return <Preloader />\r\n        }\r\n        return (\r\n            <Switch>\r\n                {/*Route Login or Initializing*/}\r\n                <Route exact path='/login' render={ () => <Login />} />\r\n                <Container />\r\n            </Switch>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isInitialized:state.auth.isInitialized\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {getStatus})(App);\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport museumReducer from \"./museum-reducer\";\r\nimport authReducer from \"./authentication\";\r\nimport locationReducer from \"./location-reducer\";\r\nimport hallReducer from \"./hall-reducer\";\r\nimport artifactReducer from \"./artifact-reducer\";\r\nimport adminReducer from \"./admin-reducer\";\r\nimport serviceAdminReducer from \"./serviceAdmin-reducer\";\r\nimport cashierReducer from \"./cashier-reducer\";\r\nimport userReducer from \"./user-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    artifact: artifactReducer,\r\n    museum: museumReducer,\r\n    auth: authReducer,\r\n    location: locationReducer,\r\n    hall: hallReducer,\r\n    admin: adminReducer,\r\n    service: serviceAdminReducer,\r\n    cashier: cashierReducer,\r\n    user: userReducer,\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nwindow.store = store;\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\nimport store from \"./redux/redux-store\";\n\nReactDOM.render(\n    <BrowserRouter basename={process.env.PUBLIC_URL} >\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </BrowserRouter>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}